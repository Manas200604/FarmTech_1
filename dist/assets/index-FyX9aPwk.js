function km(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var qd={exports:{}},ca={},Hd={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=Symbol.for("react.element"),Em=Symbol.for("react.portal"),Cm=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Rm=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),$m=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),qc=Symbol.iterator;function Dm(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var Kd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gd=Object.assign,Jd={};function _n(e,t,r){this.props=e,this.context=t,this.refs=Jd,this.updater=r||Kd}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qd(){}Qd.prototype=_n.prototype;function Il(e,t,r){this.props=e,this.context=t,this.refs=Jd,this.updater=r||Kd}var $l=Il.prototype=new Qd;$l.constructor=Il;Gd($l,_n.prototype);$l.isPureReactComponent=!0;var Hc=Array.isArray,Yd=Object.prototype.hasOwnProperty,Ll={current:null},Xd={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Yd.call(t,n)&&!Xd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Os,type:e,key:i,ref:a,props:s,_owner:Ll.current}}function Um(e,t){return{$$typeof:Os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Os}function zm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kc=/\/+/g;function Aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zm(""+e.key):t.toString(36)}function vi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Os:case Em:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Aa(a,0):n,Hc(s)?(r="",e!=null&&(r=e.replace(Kc,"$&/")+"/"),vi(s,t,r,"",function(u){return u})):s!=null&&(Dl(s)&&(s=Um(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Kc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Hc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Aa(i,l);a+=vi(i,t,r,c,s)}else if(c=Dm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Aa(i,l++),a+=vi(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qs(e,t,r){if(e==null)return e;var n=[],s=0;return vi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Mm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},xi={transition:null},Fm={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Ll};function eh(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:qs,forEach:function(e,t,r){qs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qs(e,function(){t++}),t},toArray:function(e){return qs(e,function(t){return t})||[]},only:function(e){if(!Dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=_n;W.Fragment=Cm;W.Profiler=Pm;W.PureComponent=Il;W.StrictMode=Tm;W.Suspense=Im;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm;W.act=eh;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ll.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Yd.call(t,c)&&!Xd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Os,type:e.type,key:s,ref:i,props:n,_owner:a}};W.createContext=function(e){return e={$$typeof:Rm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Om,_context:e},e.Consumer=e};W.createElement=Zd;W.createFactory=function(e){var t=Zd.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Am,render:e}};W.isValidElement=Dl;W.lazy=function(e){return{$$typeof:Lm,_payload:{_status:-1,_result:e},_init:Mm}};W.memo=function(e,t){return{$$typeof:$m,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};W.unstable_act=eh;W.useCallback=function(e,t){return ke.current.useCallback(e,t)};W.useContext=function(e){return ke.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};W.useEffect=function(e,t){return ke.current.useEffect(e,t)};W.useId=function(){return ke.current.useId()};W.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return ke.current.useMemo(e,t)};W.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};W.useRef=function(e){return ke.current.useRef(e)};W.useState=function(e){return ke.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return ke.current.useTransition()};W.version="18.3.1";Hd.exports=W;var b=Hd.exports;const th=Nm(b),Bm=km({__proto__:null,default:th},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=b,Vm=Symbol.for("react.element"),qm=Symbol.for("react.fragment"),Hm=Object.prototype.hasOwnProperty,Km=Wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gm={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Hm.call(t,n)&&!Gm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Vm,type:e,key:i,ref:a,props:s,_owner:Km.current}}ca.Fragment=qm;ca.jsx=rh;ca.jsxs=rh;qd.exports=ca;var o=qd.exports,go={},nh={exports:{}},We={},sh={exports:{}},ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var F=T.length;T.push(D);e:for(;0<F;){var se=F-1>>>1,fe=T[se];if(0<s(fe,D))T[se]=D,T[F]=fe,F=se;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],F=T.pop();if(F!==D){T[0]=F;e:for(var se=0,fe=T.length,Ws=fe>>>1;se<Ws;){var fr=2*(se+1)-1,Ra=T[fr],pr=fr+1,Vs=T[pr];if(0>s(Ra,F))pr<fe&&0>s(Vs,Ra)?(T[se]=Vs,T[pr]=F,se=pr):(T[se]=Ra,T[fr]=F,se=fr);else if(pr<fe&&0>s(Vs,F))T[se]=Vs,T[pr]=F,se=pr;else break e}}return D}function s(T,D){var F=T.sortIndex-D.sortIndex;return F!==0?F:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,p=null,d=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=T)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function _(T){if(w=!1,m(T),!v)if(r(c)!==null)v=!0,It(S);else{var D=r(u);D!==null&&In(_,D.startTime-T)}}function S(T,D){v=!1,w&&(w=!1,g(E),E=-1),y=!0;var F=d;try{for(m(D),p=r(c);p!==null&&(!(p.expirationTime>D)||T&&!X());){var se=p.callback;if(typeof se=="function"){p.callback=null,d=p.priorityLevel;var fe=se(p.expirationTime<=D);D=e.unstable_now(),typeof fe=="function"?p.callback=fe:p===r(c)&&n(c),m(D)}else n(c);p=r(c)}if(p!==null)var Ws=!0;else{var fr=r(u);fr!==null&&In(_,fr.startTime-D),Ws=!1}return Ws}finally{p=null,d=F,y=!1}}var k=!1,j=null,E=-1,O=5,R=-1;function X(){return!(e.unstable_now()-R<O)}function Ye(){if(j!==null){var T=e.unstable_now();R=T;var D=!0;try{D=j(!0,T)}finally{D?Ee():(k=!1,j=null)}}else k=!1}var Ee;if(typeof f=="function")Ee=function(){f(Ye)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,hr=Xe.port2;Xe.port1.onmessage=Ye,Ee=function(){hr.postMessage(null)}}else Ee=function(){x(Ye,0)};function It(T){j=T,k||(k=!0,Ee())}function In(T,D){E=x(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,It(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var F=d;d=D;try{return T()}finally{d=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=d;d=T;try{return D()}finally{d=F}},e.unstable_scheduleCallback=function(T,D,F){var se=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?se+F:se):F=se,T){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=F+fe,T={id:h++,callback:D,priorityLevel:T,startTime:F,expirationTime:fe,sortIndex:-1},F>se?(T.sortIndex=F,t(u,T),r(c)===null&&T===r(u)&&(w?(g(E),E=-1):w=!0,In(_,F-se))):(T.sortIndex=fe,t(c,T),v||y||(v=!0,It(S))),T},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(T){var D=d;return function(){var F=d;d=D;try{return T.apply(this,arguments)}finally{d=F}}}})(ih);sh.exports=ih;var Jm=sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=b,Be=Jm;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ah=new Set,as={};function $r(e,t){fn(e,t),fn(e+"Capture",t)}function fn(e,t){for(as[e]=t,e=0;e<t.length;e++)ah.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=Object.prototype.hasOwnProperty,Ym=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gc={},Jc={};function Xm(e){return yo.call(Jc,e)?!0:yo.call(Gc,e)?!1:Ym.test(e)?Jc[e]=!0:(Gc[e]=!0,!1)}function Zm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eg(e,t,r,n){if(t===null||typeof t>"u"||Zm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ul,zl);ve[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ul,zl);ve[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ul,zl);ve[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ml(e,t,r,n){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eg(t,r,s,n)&&(r=null),n||s===null?Xm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var At=Qm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Fl=Symbol.for("react.strict_mode"),vo=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),lh=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),xo=Symbol.for("react.suspense"),wo=Symbol.for("react.suspense_list"),Wl=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),ch=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function $n(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Ia;function Wn(e){if(Ia===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ia=t&&t[1]||""}return`
`+Ia+e}var $a=!1;function La(e,t){if(!e||$a)return"";$a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{$a=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wn(e):""}function tg(e){switch(e.tag){case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return e=La(e.type,!1),e;case 11:return e=La(e.type.render,!1),e;case 1:return e=La(e.type,!0),e;default:return""}}function jo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Kr:return"Portal";case vo:return"Profiler";case Fl:return"StrictMode";case xo:return"Suspense";case wo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lh:return(e.displayName||"Context")+".Consumer";case oh:return(e._context.displayName||"Context")+".Provider";case Bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wl:return t=e.displayName||null,t!==null?t:jo(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return jo(e(t))}catch{}}return null}function rg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jo(t);case 8:return t===Fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ng(e){var t=uh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=ng(e))}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _o(e,t){var r=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hh(e,t){t=t.checked,t!=null&&Ml(e,"checked",t,!1)}function bo(e,t){hh(e,t);var r=rr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?So(e,t.type,r):t.hasOwnProperty("defaultValue")&&So(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function So(e,t,r){(t!=="number"||Ri(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vn=Array.isArray;function an(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ko(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Vn(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rr(r)}}function fh(e,t){var r=rr(t.value),n=rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function eu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ph(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ph(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gs,mh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sg=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){sg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function gh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function yh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=gh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ig=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(e,t){if(t){if(ig[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function Vl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Po=null,on=null,ln=null;function tu(e){if(e=Is(e)){if(typeof Po!="function")throw Error(N(280));var t=e.stateNode;t&&(t=pa(t),Po(e.stateNode,e.type,t))}}function vh(e){on?ln?ln.push(e):ln=[e]:on=e}function xh(){if(on){var e=on,t=ln;if(ln=on=null,tu(e),t)for(e=0;e<t.length;e++)tu(t[e])}}function wh(e,t){return e(t)}function jh(){}var Da=!1;function _h(e,t,r){if(Da)return e(t,r);Da=!0;try{return wh(e,t,r)}finally{Da=!1,(on!==null||ln!==null)&&(jh(),xh())}}function ls(e,t){var r=e.stateNode;if(r===null)return null;var n=pa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var Oo=!1;if(Ct)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Oo=!1}function ag(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Jn=!1,Ai=null,Ii=!1,Ro=null,og={onError:function(e){Jn=!0,Ai=e}};function lg(e,t,r,n,s,i,a,l,c){Jn=!1,Ai=null,ag.apply(og,arguments)}function cg(e,t,r,n,s,i,a,l,c){if(lg.apply(this,arguments),Jn){if(Jn){var u=Ai;Jn=!1,Ai=null}else throw Error(N(198));Ii||(Ii=!0,Ro=u)}}function Lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ru(e){if(Lr(e)!==e)throw Error(N(188))}function ug(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ru(s),e;if(i===n)return ru(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function Sh(e){return e=ug(e),e!==null?kh(e):null}function kh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kh(e);if(t!==null)return t;e=e.sibling}return null}var Nh=Be.unstable_scheduleCallback,nu=Be.unstable_cancelCallback,dg=Be.unstable_shouldYield,hg=Be.unstable_requestPaint,ie=Be.unstable_now,fg=Be.unstable_getCurrentPriorityLevel,ql=Be.unstable_ImmediatePriority,Eh=Be.unstable_UserBlockingPriority,$i=Be.unstable_NormalPriority,pg=Be.unstable_LowPriority,Ch=Be.unstable_IdlePriority,ua=null,gt=null;function mg(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ua,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:vg,gg=Math.log,yg=Math.LN2;function vg(e){return e>>>=0,e===0?32:31-(gg(e)/yg|0)|0}var Js=64,Qs=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Li(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=qn(l):(i&=a,i!==0&&(n=qn(i)))}else a=r&~s,a!==0?n=qn(a):i!==0&&(n=qn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ot(t),s=1<<r,n|=e[r],t&=~s;return n}function xg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=xg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ao(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Th(){var e=Js;return Js<<=1,!(Js&4194240)&&(Js=64),e}function Ua(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=r}function jg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ot(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Hl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var q=0;function Ph(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oh,Kl,Rh,Ah,Ih,Io=!1,Ys=[],Kt=null,Gt=null,Jt=null,cs=new Map,us=new Map,Mt=[],_g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function Dn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Is(t),t!==null&&Kl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bg(e,t,r,n,s){switch(t){case"focusin":return Kt=Dn(Kt,e,t,r,n,s),!0;case"dragenter":return Gt=Dn(Gt,e,t,r,n,s),!0;case"mouseover":return Jt=Dn(Jt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return cs.set(i,Dn(cs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,Dn(us.get(i)||null,e,t,r,n,s)),!0}return!1}function $h(e){var t=_r(e.target);if(t!==null){var r=Lr(t);if(r!==null){if(t=r.tag,t===13){if(t=bh(r),t!==null){e.blockedOn=t,Ih(e.priority,function(){Rh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);To=n,r.target.dispatchEvent(n),To=null}else return t=Is(r),t!==null&&Kl(t),e.blockedOn=r,!1;t.shift()}return!0}function iu(e,t,r){wi(e)&&r.delete(t)}function Sg(){Io=!1,Kt!==null&&wi(Kt)&&(Kt=null),Gt!==null&&wi(Gt)&&(Gt=null),Jt!==null&&wi(Jt)&&(Jt=null),cs.forEach(iu),us.forEach(iu)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,Io||(Io=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Sg)))}function ds(e){function t(s){return Un(s,e)}if(0<Ys.length){Un(Ys[0],e);for(var r=1;r<Ys.length;r++){var n=Ys[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&Un(Kt,e),Gt!==null&&Un(Gt,e),Jt!==null&&Un(Jt,e),cs.forEach(t),us.forEach(t),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)$h(r),r.blockedOn===null&&Mt.shift()}var cn=At.ReactCurrentBatchConfig,Di=!0;function kg(e,t,r,n){var s=q,i=cn.transition;cn.transition=null;try{q=1,Gl(e,t,r,n)}finally{q=s,cn.transition=i}}function Ng(e,t,r,n){var s=q,i=cn.transition;cn.transition=null;try{q=4,Gl(e,t,r,n)}finally{q=s,cn.transition=i}}function Gl(e,t,r,n){if(Di){var s=$o(e,t,r,n);if(s===null)Ga(e,t,n,Ui,r),su(e,n);else if(bg(s,e,t,r,n))n.stopPropagation();else if(su(e,n),t&4&&-1<_g.indexOf(e)){for(;s!==null;){var i=Is(s);if(i!==null&&Oh(i),i=$o(e,t,r,n),i===null&&Ga(e,t,n,Ui,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ga(e,t,n,null,r)}}var Ui=null;function $o(e,t,r,n){if(Ui=null,e=Vl(n),e=_r(e),e!==null)if(t=Lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function Lh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fg()){case ql:return 1;case Eh:return 4;case $i:case pg:return 16;case Ch:return 536870912;default:return 16}default:return 16}}var Vt=null,Jl=null,ji=null;function Dh(){if(ji)return ji;var e,t=Jl,r=t.length,n,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ji=s.slice(e,1<n?1-n:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function au(){return!1}function Ve(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xs:au,this.isPropagationStopped=au,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Ve(bn),As=re({},bn,{view:0,detail:0}),Eg=Ve(As),za,Ma,zn,da=re({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(za=e.screenX-zn.screenX,Ma=e.screenY-zn.screenY):Ma=za=0,zn=e),za)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),ou=Ve(da),Cg=re({},da,{dataTransfer:0}),Tg=Ve(Cg),Pg=re({},As,{relatedTarget:0}),Fa=Ve(Pg),Og=re({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rg=Ve(Og),Ag=re({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ig=Ve(Ag),$g=re({},bn,{data:0}),lu=Ve($g),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ug[e])?!!t[e]:!1}function Yl(){return zg}var Mg=re({},As,{key:function(e){if(e.key){var t=Lg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fg=Ve(Mg),Bg=re({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=Ve(Bg),Wg=re({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),Vg=Ve(Wg),qg=re({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=Ve(qg),Kg=re({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gg=Ve(Kg),Jg=[9,13,27,32],Xl=Ct&&"CompositionEvent"in window,Qn=null;Ct&&"documentMode"in document&&(Qn=document.documentMode);var Qg=Ct&&"TextEvent"in window&&!Qn,Uh=Ct&&(!Xl||Qn&&8<Qn&&11>=Qn),uu=" ",du=!1;function zh(e,t){switch(e){case"keyup":return Jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Yg(e,t){switch(e){case"compositionend":return Mh(t);case"keypress":return t.which!==32?null:(du=!0,uu);case"textInput":return e=t.data,e===uu&&du?null:e;default:return null}}function Xg(e,t){if(Jr)return e==="compositionend"||!Xl&&zh(e,t)?(e=Dh(),ji=Jl=Vt=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uh&&t.locale!=="ko"?null:t.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zg[e.type]:t==="textarea"}function Fh(e,t,r,n){vh(n),t=zi(t,"onChange"),0<t.length&&(r=new Ql("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Yn=null,hs=null;function e0(e){Xh(e,0)}function ha(e){var t=Xr(e);if(dh(t))return e}function t0(e,t){if(e==="change")return t}var Bh=!1;if(Ct){var Ba;if(Ct){var Wa="oninput"in document;if(!Wa){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),Wa=typeof fu.oninput=="function"}Ba=Wa}else Ba=!1;Bh=Ba&&(!document.documentMode||9<document.documentMode)}function pu(){Yn&&(Yn.detachEvent("onpropertychange",Wh),hs=Yn=null)}function Wh(e){if(e.propertyName==="value"&&ha(hs)){var t=[];Fh(t,hs,e,Vl(e)),_h(e0,t)}}function r0(e,t,r){e==="focusin"?(pu(),Yn=t,hs=r,Yn.attachEvent("onpropertychange",Wh)):e==="focusout"&&pu()}function n0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha(hs)}function s0(e,t){if(e==="click")return ha(t)}function i0(e,t){if(e==="input"||e==="change")return ha(t)}function a0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:a0;function fs(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!yo.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var r=mu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mu(r)}}function Vh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qh(){for(var e=window,t=Ri();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ri(e.document)}return t}function Zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o0(e){var t=qh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vh(r.ownerDocument.documentElement,r)){if(n!==null&&Zl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=gu(r,i);var a=gu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l0=Ct&&"documentMode"in document&&11>=document.documentMode,Qr=null,Lo=null,Xn=null,Do=!1;function yu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Do||Qr==null||Qr!==Ri(n)||(n=Qr,"selectionStart"in n&&Zl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xn&&fs(Xn,n)||(Xn=n,n=zi(Lo,"onSelect"),0<n.length&&(t=new Ql("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qr)))}function Zs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yr={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},Va={},Hh={};Ct&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function fa(e){if(Va[e])return Va[e];if(!Yr[e])return e;var t=Yr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hh)return Va[e]=t[r];return e}var Kh=fa("animationend"),Gh=fa("animationiteration"),Jh=fa("animationstart"),Qh=fa("transitionend"),Yh=new Map,vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Yh.set(e,t),$r(t,[e])}for(var qa=0;qa<vu.length;qa++){var Ha=vu[qa],c0=Ha.toLowerCase(),u0=Ha[0].toUpperCase()+Ha.slice(1);ir(c0,"on"+u0)}ir(Kh,"onAnimationEnd");ir(Gh,"onAnimationIteration");ir(Jh,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Qh,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hn));function xu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cg(n,t,void 0,e),e.currentTarget=null}function Xh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xu(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xu(s,l,u),i=c}}}if(Ii)throw e=Ro,Ii=!1,Ro=null,e}function G(e,t){var r=t[Bo];r===void 0&&(r=t[Bo]=new Set);var n=e+"__bubble";r.has(n)||(Zh(t,e,2,!1),r.add(n))}function Ka(e,t,r){var n=0;t&&(n|=4),Zh(r,e,n,t)}var ei="_reactListening"+Math.random().toString(36).slice(2);function ps(e){if(!e[ei]){e[ei]=!0,ah.forEach(function(r){r!=="selectionchange"&&(d0.has(r)||Ka(r,!1,e),Ka(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ei]||(t[ei]=!0,Ka("selectionchange",!1,t))}}function Zh(e,t,r,n){switch(Lh(t)){case 1:var s=kg;break;case 4:s=Ng;break;default:s=Gl}r=s.bind(null,t,r,e),s=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ga(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=_r(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}_h(function(){var u=i,h=Vl(r),p=[];e:{var d=Yh.get(e);if(d!==void 0){var y=Ql,v=e;switch(e){case"keypress":if(_i(r)===0)break e;case"keydown":case"keyup":y=Fg;break;case"focusin":v="focus",y=Fa;break;case"focusout":v="blur",y=Fa;break;case"beforeblur":case"afterblur":y=Fa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Vg;break;case Kh:case Gh:case Jh:y=Rg;break;case Qh:y=Hg;break;case"scroll":y=Eg;break;case"wheel":y=Gg;break;case"copy":case"cut":case"paste":y=Ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=cu}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?d!==null?d+"Capture":null:d;w=[];for(var f=u,m;f!==null;){m=f;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=ls(f,g),_!=null&&w.push(ms(f,_,m)))),x)break;f=f.return}0<w.length&&(d=new y(d,v,null,r,h),p.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&r!==To&&(v=r.relatedTarget||r.fromElement)&&(_r(v)||v[Tt]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?_r(v):null,v!==null&&(x=Lr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=ou,_="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=cu,_="onPointerLeave",g="onPointerEnter",f="pointer"),x=y==null?d:Xr(y),m=v==null?d:Xr(v),d=new w(_,f+"leave",y,r,h),d.target=x,d.relatedTarget=m,_=null,_r(h)===u&&(w=new w(g,f+"enter",v,r,h),w.target=m,w.relatedTarget=x,_=w),x=_,y&&v)t:{for(w=y,g=v,f=0,m=w;m;m=Ur(m))f++;for(m=0,_=g;_;_=Ur(_))m++;for(;0<f-m;)w=Ur(w),f--;for(;0<m-f;)g=Ur(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ur(w),g=Ur(g)}w=null}else w=null;y!==null&&wu(p,d,y,w,!1),v!==null&&x!==null&&wu(p,x,v,w,!0)}}e:{if(d=u?Xr(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var S=t0;else if(hu(d))if(Bh)S=i0;else{S=n0;var k=r0}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=s0);if(S&&(S=S(e,u))){Fh(p,S,r,h);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&So(d,"number",d.value)}switch(k=u?Xr(u):window,e){case"focusin":(hu(k)||k.contentEditable==="true")&&(Qr=k,Lo=u,Xn=null);break;case"focusout":Xn=Lo=Qr=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,yu(p,r,h);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":yu(p,r,h)}var j;if(Xl)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Jr?zh(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Uh&&r.locale!=="ko"&&(Jr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Jr&&(j=Dh()):(Vt=h,Jl="value"in Vt?Vt.value:Vt.textContent,Jr=!0)),k=zi(u,E),0<k.length&&(E=new lu(E,e,null,r,h),p.push({event:E,listeners:k}),j?E.data=j:(j=Mh(r),j!==null&&(E.data=j)))),(j=Qg?Yg(e,r):Xg(e,r))&&(u=zi(u,"onBeforeInput"),0<u.length&&(h=new lu("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=j))}Xh(p,t)})}function ms(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ls(e,r),i!=null&&n.unshift(ms(e,i,s)),i=ls(e,t),i!=null&&n.push(ms(e,i,s))),e=e.return}return n}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ls(r,i),c!=null&&a.unshift(ms(r,c,l))):s||(c=ls(r,i),c!=null&&a.push(ms(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var h0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(h0,`
`).replace(f0,"")}function ti(e,t,r){if(t=ju(t),ju(e)!==t&&r)throw Error(N(425))}function Mi(){}var Uo=null,zo=null;function Mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(e){return _u.resolve(null).then(e).catch(g0)}:Fo;function g0(e){setTimeout(function(){throw e})}function Ja(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ds(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ds(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Sn,gs="__reactProps$"+Sn,Tt="__reactContainer$"+Sn,Bo="__reactEvents$"+Sn,y0="__reactListeners$"+Sn,v0="__reactHandles$"+Sn;function _r(e){var t=e[pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tt]||r[pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bu(e);e!==null;){if(r=e[pt])return r;e=bu(e)}return t}e=r,r=e.parentNode}return null}function Is(e){return e=e[pt]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function pa(e){return e[gs]||null}var Wo=[],Zr=-1;function ar(e){return{current:e}}function J(e){0>Zr||(e.current=Wo[Zr],Wo[Zr]=null,Zr--)}function K(e,t){Zr++,Wo[Zr]=e.current,e.current=t}var nr={},_e=ar(nr),Oe=ar(!1),Tr=nr;function pn(e,t){var r=e.type.contextTypes;if(!r)return nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function Fi(){J(Oe),J(_e)}function Su(e,t,r){if(_e.current!==nr)throw Error(N(168));K(_e,t),K(Oe,r)}function ef(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,rg(e)||"Unknown",s));return re({},r,n)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Tr=_e.current,K(_e,e),K(Oe,Oe.current),!0}function ku(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=ef(e,t,Tr),n.__reactInternalMemoizedMergedChildContext=e,J(Oe),J(_e),K(_e,e)):J(Oe),K(Oe,r)}var bt=null,ma=!1,Qa=!1;function tf(e){bt===null?bt=[e]:bt.push(e)}function x0(e){ma=!0,tf(e)}function or(){if(!Qa&&bt!==null){Qa=!0;var e=0,t=q;try{var r=bt;for(q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bt=null,ma=!1}catch(s){throw bt!==null&&(bt=bt.slice(e+1)),Nh(ql,or),s}finally{q=t,Qa=!1}}return null}var en=[],tn=0,Wi=null,Vi=0,qe=[],He=0,Pr=null,St=1,kt="";function yr(e,t){en[tn++]=Vi,en[tn++]=Wi,Wi=e,Vi=t}function rf(e,t,r){qe[He++]=St,qe[He++]=kt,qe[He++]=Pr,Pr=e;var n=St;e=kt;var s=32-ot(n)-1;n&=~(1<<s),r+=1;var i=32-ot(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,St=1<<32-ot(t)+s|r<<s|n,kt=i+e}else St=1<<i|r<<s|n,kt=e}function ec(e){e.return!==null&&(yr(e,1),rf(e,1,0))}function tc(e){for(;e===Wi;)Wi=en[--tn],en[tn]=null,Vi=en[--tn],en[tn]=null;for(;e===Pr;)Pr=qe[--He],qe[He]=null,kt=qe[--He],qe[He]=null,St=qe[--He],qe[He]=null}var ze=null,Ue=null,Y=!1,it=null;function nf(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Ue=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pr!==null?{id:St,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ze=e,Ue=null,!0):!1;default:return!1}}function Vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qo(e){if(Y){var t=Ue;if(t){var r=t;if(!Nu(e,t)){if(Vo(e))throw Error(N(418));t=Qt(r.nextSibling);var n=ze;t&&Nu(e,t)?nf(n,r):(e.flags=e.flags&-4097|2,Y=!1,ze=e)}}else{if(Vo(e))throw Error(N(418));e.flags=e.flags&-4097|2,Y=!1,ze=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function ri(e){if(e!==ze)return!1;if(!Y)return Eu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mo(e.type,e.memoizedProps)),t&&(t=Ue)){if(Vo(e))throw sf(),Error(N(418));for(;t;)nf(e,t),t=Qt(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ue=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=ze?Qt(e.stateNode.nextSibling):null;return!0}function sf(){for(var e=Ue;e;)e=Qt(e.nextSibling)}function mn(){Ue=ze=null,Y=!1}function rc(e){it===null?it=[e]:it.push(e)}var w0=At.ReactCurrentBatchConfig;function Mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cu(e){var t=e._init;return t(e._payload)}function af(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=er(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,m,_){return f===null||f.tag!==6?(f=no(m,g.mode,_),f.return=g,f):(f=s(f,m),f.return=g,f)}function c(g,f,m,_){var S=m.type;return S===Gr?h(g,f,m.props.children,_,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Cu(S)===f.type)?(_=s(f,m.props),_.ref=Mn(g,f,m),_.return=g,_):(_=Ti(m.type,m.key,m.props,null,g.mode,_),_.ref=Mn(g,f,m),_.return=g,_)}function u(g,f,m,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=so(m,g.mode,_),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function h(g,f,m,_,S){return f===null||f.tag!==7?(f=Er(m,g.mode,_,S),f.return=g,f):(f=s(f,m),f.return=g,f)}function p(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=no(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Hs:return m=Ti(f.type,f.key,f.props,null,g.mode,m),m.ref=Mn(g,null,f),m.return=g,m;case Kr:return f=so(f,g.mode,m),f.return=g,f;case Ut:var _=f._init;return p(g,_(f._payload),m)}if(Vn(f)||$n(f))return f=Er(f,g.mode,m,null),f.return=g,f;ni(g,f)}return null}function d(g,f,m,_){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(g,f,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hs:return m.key===S?c(g,f,m,_):null;case Kr:return m.key===S?u(g,f,m,_):null;case Ut:return S=m._init,d(g,f,S(m._payload),_)}if(Vn(m)||$n(m))return S!==null?null:h(g,f,m,_,null);ni(g,m)}return null}function y(g,f,m,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,l(f,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hs:return g=g.get(_.key===null?m:_.key)||null,c(f,g,_,S);case Kr:return g=g.get(_.key===null?m:_.key)||null,u(f,g,_,S);case Ut:var k=_._init;return y(g,f,m,k(_._payload),S)}if(Vn(_)||$n(_))return g=g.get(m)||null,h(f,g,_,S,null);ni(f,_)}return null}function v(g,f,m,_){for(var S=null,k=null,j=f,E=f=0,O=null;j!==null&&E<m.length;E++){j.index>E?(O=j,j=null):O=j.sibling;var R=d(g,j,m[E],_);if(R===null){j===null&&(j=O);break}e&&j&&R.alternate===null&&t(g,j),f=i(R,f,E),k===null?S=R:k.sibling=R,k=R,j=O}if(E===m.length)return r(g,j),Y&&yr(g,E),S;if(j===null){for(;E<m.length;E++)j=p(g,m[E],_),j!==null&&(f=i(j,f,E),k===null?S=j:k.sibling=j,k=j);return Y&&yr(g,E),S}for(j=n(g,j);E<m.length;E++)O=y(j,g,E,m[E],_),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?E:O.key),f=i(O,f,E),k===null?S=O:k.sibling=O,k=O);return e&&j.forEach(function(X){return t(g,X)}),Y&&yr(g,E),S}function w(g,f,m,_){var S=$n(m);if(typeof S!="function")throw Error(N(150));if(m=S.call(m),m==null)throw Error(N(151));for(var k=S=null,j=f,E=f=0,O=null,R=m.next();j!==null&&!R.done;E++,R=m.next()){j.index>E?(O=j,j=null):O=j.sibling;var X=d(g,j,R.value,_);if(X===null){j===null&&(j=O);break}e&&j&&X.alternate===null&&t(g,j),f=i(X,f,E),k===null?S=X:k.sibling=X,k=X,j=O}if(R.done)return r(g,j),Y&&yr(g,E),S;if(j===null){for(;!R.done;E++,R=m.next())R=p(g,R.value,_),R!==null&&(f=i(R,f,E),k===null?S=R:k.sibling=R,k=R);return Y&&yr(g,E),S}for(j=n(g,j);!R.done;E++,R=m.next())R=y(j,g,E,R.value,_),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?E:R.key),f=i(R,f,E),k===null?S=R:k.sibling=R,k=R);return e&&j.forEach(function(Ye){return t(g,Ye)}),Y&&yr(g,E),S}function x(g,f,m,_){if(typeof m=="object"&&m!==null&&m.type===Gr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Hs:e:{for(var S=m.key,k=f;k!==null;){if(k.key===S){if(S=m.type,S===Gr){if(k.tag===7){r(g,k.sibling),f=s(k,m.props.children),f.return=g,g=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Cu(S)===k.type){r(g,k.sibling),f=s(k,m.props),f.ref=Mn(g,k,m),f.return=g,g=f;break e}r(g,k);break}else t(g,k);k=k.sibling}m.type===Gr?(f=Er(m.props.children,g.mode,_,m.key),f.return=g,g=f):(_=Ti(m.type,m.key,m.props,null,g.mode,_),_.ref=Mn(g,f,m),_.return=g,g=_)}return a(g);case Kr:e:{for(k=m.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=so(m,g.mode,_),f.return=g,g=f}return a(g);case Ut:return k=m._init,x(g,f,k(m._payload),_)}if(Vn(m))return v(g,f,m,_);if($n(m))return w(g,f,m,_);ni(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,m),f.return=g,g=f):(r(g,f),f=no(m,g.mode,_),f.return=g,g=f),a(g)):r(g,f)}return x}var gn=af(!0),of=af(!1),qi=ar(null),Hi=null,rn=null,nc=null;function sc(){nc=rn=Hi=null}function ic(e){var t=qi.current;J(qi),e._currentValue=t}function Ho(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function un(e,t){Hi=e,nc=rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(nc!==e)if(e={context:e,memoizedValue:t,next:null},rn===null){if(Hi===null)throw Error(N(308));rn=e,Hi.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var br=null;function ac(e){br===null?br=[e]:br.push(e)}function lf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ac(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pt(e,r)}return s=n.interleaved,s===null?(t.next=t,ac(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pt(e,r)}function bi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hl(e,r)}}function Tu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ki(e,t,r,n){var s=e.updateQueue;zt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,h=u=c=null,l=i;do{var d=l.lane,y=l.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(d=t,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){p=v.call(y,p,d);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(y,p,d):v,d==null)break e;p=re({},p,d);break e;case 2:zt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=p):h=h.next=y,a|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rr|=a,e.lanes=a,e.memoizedState=p}}function Pu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var $s={},yt=ar($s),ys=ar($s),vs=ar($s);function Sr(e){if(e===$s)throw Error(N(174));return e}function lc(e,t){switch(K(vs,t),K(ys,e),K(yt,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:No(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=No(t,e)}J(yt),K(yt,t)}function yn(){J(yt),J(ys),J(vs)}function uf(e){Sr(vs.current);var t=Sr(yt.current),r=No(t,e.type);t!==r&&(K(ys,e),K(yt,r))}function cc(e){ys.current===e&&(J(yt),J(ys))}var ee=ar(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function uc(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Si=At.ReactCurrentDispatcher,Xa=At.ReactCurrentBatchConfig,Or=0,te=null,ue=null,pe=null,Ji=!1,Zn=!1,xs=0,j0=0;function xe(){throw Error(N(321))}function dc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ct(e[r],t[r]))return!1;return!0}function hc(e,t,r,n,s,i){if(Or=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?k0:N0,e=r(n,s),Zn){i=0;do{if(Zn=!1,xs=0,25<=i)throw Error(N(301));i+=1,pe=ue=null,t.updateQueue=null,Si.current=E0,e=r(n,s)}while(Zn)}if(Si.current=Qi,t=ue!==null&&ue.next!==null,Or=0,pe=ue=te=null,Ji=!1,t)throw Error(N(300));return e}function fc(){var e=xs!==0;return xs=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?te.memoizedState=pe=e:pe=pe.next=e,pe}function Qe(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=pe===null?te.memoizedState:pe.next;if(t!==null)pe=t,ue=e;else{if(e===null)throw Error(N(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},pe===null?te.memoizedState=pe=e:pe=pe.next=e}return pe}function ws(e,t){return typeof t=="function"?t(e):t}function Za(e){var t=Qe(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((Or&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=n):c=c.next=p,te.lanes|=h,Rr|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,ct(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,Rr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eo(e){var t=Qe(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ct(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function df(){}function hf(e,t){var r=te,n=Qe(),s=t(),i=!ct(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,pc(mf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,js(9,pf.bind(null,r,n,s,t),void 0,null),me===null)throw Error(N(349));Or&30||ff(r,t,s)}return s}function ff(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pf(e,t,r,n){t.value=r,t.getSnapshot=n,gf(t)&&yf(e)}function mf(e,t,r){return r(function(){gf(t)&&yf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ct(e,r)}catch{return!0}}function yf(e){var t=Pt(e,1);t!==null&&lt(t,e,1,-1)}function Ou(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=S0.bind(null,te,e),[t.memoizedState,e]}function js(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function vf(){return Qe().memoizedState}function ki(e,t,r,n){var s=ht();te.flags|=e,s.memoizedState=js(1|t,r,void 0,n===void 0?null:n)}function ga(e,t,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(ue!==null){var a=ue.memoizedState;if(i=a.destroy,n!==null&&dc(n,a.deps)){s.memoizedState=js(t,r,i,n);return}}te.flags|=e,s.memoizedState=js(1|t,r,i,n)}function Ru(e,t){return ki(8390656,8,e,t)}function pc(e,t){return ga(2048,8,e,t)}function xf(e,t){return ga(4,2,e,t)}function wf(e,t){return ga(4,4,e,t)}function jf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _f(e,t,r){return r=r!=null?r.concat([e]):null,ga(4,4,jf.bind(null,t,e),r)}function mc(){}function bf(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Sf(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function kf(e,t,r){return Or&21?(ct(r,t)||(r=Th(),te.lanes|=r,Rr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function _0(e,t){var r=q;q=r!==0&&4>r?r:4,e(!0);var n=Xa.transition;Xa.transition={};try{e(!1),t()}finally{q=r,Xa.transition=n}}function Nf(){return Qe().memoizedState}function b0(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ef(e))Cf(t,r);else if(r=lf(e,t,r,n),r!==null){var s=Se();lt(r,e,n,s),Tf(r,t,n)}}function S0(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ef(e))Cf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,ct(l,a)){var c=t.interleaved;c===null?(s.next=s,ac(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=lf(e,t,s,n),r!==null&&(s=Se(),lt(r,e,n,s),Tf(r,t,n))}}function Ef(e){var t=e.alternate;return e===te||t!==null&&t===te}function Cf(e,t){Zn=Ji=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Tf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hl(e,r)}}var Qi={readContext:Je,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},k0={readContext:Je,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ki(4194308,4,jf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return ki(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=b0.bind(null,te,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Ou,useDebugValue:mc,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Ou(!1),t=e[0];return e=_0.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=te,s=ht();if(Y){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),me===null)throw Error(N(349));Or&30||ff(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ru(mf.bind(null,n,i,e),[e]),n.flags|=2048,js(9,pf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ht(),t=me.identifierPrefix;if(Y){var r=kt,n=St;r=(n&~(1<<32-ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=j0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N0={readContext:Je,useCallback:bf,useContext:Je,useEffect:pc,useImperativeHandle:_f,useInsertionEffect:xf,useLayoutEffect:wf,useMemo:Sf,useReducer:Za,useRef:vf,useState:function(){return Za(ws)},useDebugValue:mc,useDeferredValue:function(e){var t=Qe();return kf(t,ue.memoizedState,e)},useTransition:function(){var e=Za(ws)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:df,useSyncExternalStore:hf,useId:Nf,unstable_isNewReconciler:!1},E0={readContext:Je,useCallback:bf,useContext:Je,useEffect:pc,useImperativeHandle:_f,useInsertionEffect:xf,useLayoutEffect:wf,useMemo:Sf,useReducer:eo,useRef:vf,useState:function(){return eo(ws)},useDebugValue:mc,useDeferredValue:function(e){var t=Qe();return ue===null?t.memoizedState=e:kf(t,ue.memoizedState,e)},useTransition:function(){var e=eo(ws)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:df,useSyncExternalStore:hf,useId:Nf,unstable_isNewReconciler:!1};function tt(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ko(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ya={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Se(),s=Zt(e),i=Nt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(lt(t,e,s,n),bi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Se(),s=Zt(e),i=Nt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(lt(t,e,s,n),bi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Se(),n=Zt(e),s=Nt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,n),t!==null&&(lt(t,e,n,r),bi(t,e,n))}};function Au(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!fs(r,n)||!fs(s,i):!0}function Pf(e,t,r){var n=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Re(t)?Tr:_e.current,n=t.contextTypes,i=(n=n!=null)?pn(e,s):nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Iu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function Go(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},oc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Re(t)?Tr:_e.current,s.context=pn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ko(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ya.enqueueReplaceState(s,s.state,null),Ki(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var r="",n=t;do r+=tg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function to(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C0=typeof WeakMap=="function"?WeakMap:Map;function Of(e,t,r){r=Nt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xi||(Xi=!0,il=n),Jo(e,t)},r}function Rf(e,t,r){r=Nt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Jo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Jo(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function $u(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=B0.bind(null,e,t,r),t.then(e,e))}function Lu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Du(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var T0=At.ReactCurrentOwner,Pe=!1;function be(e,t,r,n){t.child=e===null?of(t,null,r,n):gn(t,e.child,r,n)}function Uu(e,t,r,n,s){r=r.render;var i=t.ref;return un(t,s),n=hc(e,t,r,n,i,s),r=fc(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(Y&&r&&ec(t),t.flags|=1,be(e,t,n,s),t.child)}function zu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!bc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Af(e,t,i,n,s)):(e=Ti(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(a,n)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=er(i,n),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(fs(i,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return Qo(e,t,r,n,s)}function If(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(sn,$e),$e|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(sn,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,K(sn,$e),$e|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,K(sn,$e),$e|=n;return be(e,t,s,r),t.child}function $f(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qo(e,t,r,n,s){var i=Re(r)?Tr:_e.current;return i=pn(t,i),un(t,s),r=hc(e,t,r,n,i,s),n=fc(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(Y&&n&&ec(t),t.flags|=1,be(e,t,r,s),t.child)}function Mu(e,t,r,n,s){if(Re(r)){var i=!0;Bi(t)}else i=!1;if(un(t,s),t.stateNode===null)Ni(e,t),Pf(t,r,n),Go(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Re(r)?Tr:_e.current,u=pn(t,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Iu(t,a,n,u),zt=!1;var d=t.memoizedState;a.state=d,Ki(t,n,a,s),c=t.memoizedState,l!==n||d!==c||Oe.current||zt?(typeof h=="function"&&(Ko(t,r,h,n),c=t.memoizedState),(l=zt||Au(t,r,l,n,d,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,cf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tt(t.type,l),a.props=u,p=t.pendingProps,d=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=Re(r)?Tr:_e.current,c=pn(t,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||d!==c)&&Iu(t,a,n,c),zt=!1,d=t.memoizedState,a.state=d,Ki(t,n,a,s);var v=t.memoizedState;l!==p||d!==v||Oe.current||zt?(typeof y=="function"&&(Ko(t,r,y,n),v=t.memoizedState),(u=zt||Au(t,r,u,n,d,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Yo(e,t,r,n,i,s)}function Yo(e,t,r,n,s,i){$f(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&ku(t,r,!1),Ot(e,t,i);n=t.stateNode,T0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=gn(t,e.child,null,i),t.child=gn(t,null,l,i)):be(e,t,l,i),t.memoizedState=n.state,s&&ku(t,r,!0),t.child}function Lf(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),lc(e,t.containerInfo)}function Fu(e,t,r,n,s){return mn(),rc(s),t.flags|=256,be(e,t,r,n),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0};function Zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Df(e,t,r){var n=t.pendingProps,s=ee.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(ee,s&1),e===null)return qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=wa(a,n,0,null),e=Er(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zo(r),t.memoizedState=Xo,e):gc(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return P0(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=er(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=er(l,i):(i=Er(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Zo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Xo,n}return i=e.child,e=i.sibling,n=er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gc(e,t){return t=wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function si(e,t,r,n){return n!==null&&rc(n),gn(t,e.child,null,r),e=gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=to(Error(N(422))),si(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wa({mode:"visible",children:n.children},s,0,null),i=Er(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&gn(t,e.child,null,a),t.child.memoizedState=Zo(a),t.memoizedState=Xo,i);if(!(t.mode&1))return si(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(N(419)),n=to(i,n,void 0),si(e,t,a,n)}if(l=(a&e.childLanes)!==0,Pe||l){if(n=me,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pt(e,s),lt(n,e,s,-1))}return _c(),n=to(Error(N(421))),si(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=W0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ue=Qt(s.nextSibling),ze=t,Y=!0,it=null,e!==null&&(qe[He++]=St,qe[He++]=kt,qe[He++]=Pr,St=e.id,kt=e.overflow,Pr=t),t=gc(t,n.children),t.flags|=4096,t)}function Bu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ho(e.return,t,r)}function ro(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Uf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(be(e,t,n.children,r),n=ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bu(e,r,t);else if(e.tag===19)Bu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(K(ee,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ro(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ro(t,!0,r,null,i);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function O0(e,t,r){switch(t.tag){case 3:Lf(t),mn();break;case 5:uf(t);break;case 1:Re(t.type)&&Bi(t);break;case 4:lc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;K(qi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(K(ee,ee.current&1),t.flags|=128,null):r&t.child.childLanes?Df(e,t,r):(K(ee,ee.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);K(ee,ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Uf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(ee,ee.current),n)break;return null;case 22:case 23:return t.lanes=0,If(e,t,r)}return Ot(e,t,r)}var zf,el,Mf,Ff;zf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};el=function(){};Mf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sr(yt.current);var i=null;switch(r){case"input":s=_o(e,s),n=_o(e,n),i=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),i=[];break;case"textarea":s=ko(e,s),n=ko(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Mi)}Eo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ff=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function R0(e,t,r){var n=t.pendingProps;switch(tc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Re(t.type)&&Fi(),we(t),null;case 3:return n=t.stateNode,yn(),J(Oe),J(_e),uc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(ll(it),it=null))),el(e,t),we(t),null;case 5:cc(t);var s=Sr(vs.current);if(r=t.type,e!==null&&t.stateNode!=null)Mf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return we(t),null}if(e=Sr(yt.current),ri(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[pt]=t,n[gs]=i,e=(t.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<Hn.length;s++)G(Hn[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":Yc(n,i),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},G("invalid",n);break;case"textarea":Zc(n,i),G("invalid",n)}Eo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ti(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ti(n.textContent,l,e),s=["children",""+l]):as.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&G("scroll",n)}switch(r){case"input":Ks(n),Xc(n,i,!0);break;case"textarea":Ks(n),eu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Mi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ph(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[pt]=t,e[gs]=n,zf(e,t,!1,!1),t.stateNode=e;e:{switch(a=Co(r,n),r){case"dialog":G("cancel",e),G("close",e),s=n;break;case"iframe":case"object":case"embed":G("load",e),s=n;break;case"video":case"audio":for(s=0;s<Hn.length;s++)G(Hn[s],e);s=n;break;case"source":G("error",e),s=n;break;case"img":case"image":case"link":G("error",e),G("load",e),s=n;break;case"details":G("toggle",e),s=n;break;case"input":Yc(e,n),s=_o(e,n),G("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),G("invalid",e);break;case"textarea":Zc(e,n),s=ko(e,n),G("invalid",e);break;default:s=n}Eo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mh(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&os(e,c):typeof c=="number"&&os(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?c!=null&&i==="onScroll"&&G("scroll",e):c!=null&&Ml(e,i,c,a))}switch(r){case"input":Ks(e),Xc(e,n,!1);break;case"textarea":Ks(e),eu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?an(e,!!n.multiple,i,!1):n.defaultValue!=null&&an(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Ff(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Sr(vs.current),Sr(yt.current),ri(t)){if(n=t.stateNode,r=t.memoizedProps,n[pt]=t,(i=n.nodeValue!==r)&&(e=ze,e!==null))switch(e.tag){case 3:ti(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ti(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pt]=t,t.stateNode=n}return we(t),null;case 13:if(J(ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ue!==null&&t.mode&1&&!(t.flags&128))sf(),mn(),t.flags|=98560,i=!1;else if(i=ri(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[pt]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else it!==null&&(ll(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?he===0&&(he=3):_c())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return yn(),el(e,t),e===null&&ps(t.stateNode.containerInfo),we(t),null;case 10:return ic(t.type._context),we(t),null;case 17:return Re(t.type)&&Fi(),we(t),null;case 19:if(J(ee),i=t.memoizedState,i===null)return we(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Fn(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Gi(e),a!==null){for(t.flags|=128,Fn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>xn&&(t.flags|=128,n=!0,Fn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Gi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Y)return we(t),null}else 2*ie()-i.renderingStartTime>xn&&r!==1073741824&&(t.flags|=128,n=!0,Fn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,r=ee.current,K(ee,n?r&1|2:r&1),t):(we(t),null);case 22:case 23:return jc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$e&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function A0(e,t){switch(tc(t),t.tag){case 1:return Re(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),J(Oe),J(_e),uc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cc(t),null;case 13:if(J(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ee),null;case 4:return yn(),null;case 10:return ic(t.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var ii=!1,je=!1,I0=typeof WeakSet=="function"?WeakSet:Set,C=null;function nn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ne(e,t,n)}else r.current=null}function tl(e,t,r){try{r()}catch(n){ne(e,t,n)}}var Wu=!1;function $0(e,t){if(Uo=Di,e=qh(),Zl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,p=e,d=null;t:for(;;){for(var y;p!==r||s!==0&&p.nodeType!==3||(l=a+s),p!==i||n!==0&&p.nodeType!==3||(c=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)d=p,p=y;for(;;){if(p===e)break t;if(d===r&&++u===s&&(l=a),d===i&&++h===n&&(c=a),(y=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(zo={focusedElem:e,selectionRange:r},Di=!1,C=t;C!==null;)if(t=C,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,C=e;else for(;C!==null;){t=C;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:tt(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){ne(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,C=e;break}C=t.return}return v=Wu,Wu=!1,v}function es(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tl(t,r,i)}s=s.next}while(s!==n)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bf(e){var t=e.alternate;t!==null&&(e.alternate=null,Bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[gs],delete t[Bo],delete t[y0],delete t[v0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wf(e){return e.tag===5||e.tag===3||e.tag===4}function Vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mi));else if(n!==4&&(e=e.child,e!==null))for(nl(e,t,r),e=e.sibling;e!==null;)nl(e,t,r),e=e.sibling}function sl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sl(e,t,r),e=e.sibling;e!==null;)sl(e,t,r),e=e.sibling}var ge=null,nt=!1;function $t(e,t,r){for(r=r.child;r!==null;)Vf(e,t,r),r=r.sibling}function Vf(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ua,r)}catch{}switch(r.tag){case 5:je||nn(r,t);case 6:var n=ge,s=nt;ge=null,$t(e,t,r),ge=n,nt=s,ge!==null&&(nt?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(nt?(e=ge,r=r.stateNode,e.nodeType===8?Ja(e.parentNode,r):e.nodeType===1&&Ja(e,r),ds(e)):Ja(ge,r.stateNode));break;case 4:n=ge,s=nt,ge=r.stateNode.containerInfo,nt=!0,$t(e,t,r),ge=n,nt=s;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&tl(r,t,a),s=s.next}while(s!==n)}$t(e,t,r);break;case 1:if(!je&&(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ne(r,t,l)}$t(e,t,r);break;case 21:$t(e,t,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,$t(e,t,r),je=n):$t(e,t,r);break;default:$t(e,t,r)}}function qu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new I0),t.forEach(function(n){var s=V0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ze(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,nt=!1;break e;case 3:ge=l.stateNode.containerInfo,nt=!0;break e;case 4:ge=l.stateNode.containerInfo,nt=!0;break e}l=l.return}if(ge===null)throw Error(N(160));Vf(i,a,s),ge=null,nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qf(t,e),t=t.sibling}function qf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ut(e),n&4){try{es(3,e,e.return),va(3,e)}catch(w){ne(e,e.return,w)}try{es(5,e,e.return)}catch(w){ne(e,e.return,w)}}break;case 1:Ze(t,e),ut(e),n&512&&r!==null&&nn(r,r.return);break;case 5:if(Ze(t,e),ut(e),n&512&&r!==null&&nn(r,r.return),e.flags&32){var s=e.stateNode;try{os(s,"")}catch(w){ne(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hh(s,i),Co(l,a);var u=Co(l,i);for(a=0;a<c.length;a+=2){var h=c[a],p=c[a+1];h==="style"?yh(s,p):h==="dangerouslySetInnerHTML"?mh(s,p):h==="children"?os(s,p):Ml(s,h,p,u)}switch(l){case"input":bo(s,i);break;case"textarea":fh(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?an(s,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?an(s,!!i.multiple,i.defaultValue,!0):an(s,!!i.multiple,i.multiple?[]:"",!1))}s[gs]=i}catch(w){ne(e,e.return,w)}}break;case 6:if(Ze(t,e),ut(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ne(e,e.return,w)}}break;case 3:if(Ze(t,e),ut(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(w){ne(e,e.return,w)}break;case 4:Ze(t,e),ut(e);break;case 13:Ze(t,e),ut(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xc=ie())),n&4&&qu(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(je=(u=je)||h,Ze(t,e),je=u):Ze(t,e),ut(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(C=e,h=e.child;h!==null;){for(p=C=h;C!==null;){switch(d=C,y=d.child,d.tag){case 0:case 11:case 14:case 15:es(4,d,d.return);break;case 1:nn(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ne(n,r,w)}}break;case 5:nn(d,d.return);break;case 22:if(d.memoizedState!==null){Ku(p);continue}}y!==null?(y.return=d,C=y):Ku(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gh("display",a))}catch(w){ne(e,e.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){ne(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ze(t,e),ut(e),n&4&&qu(e);break;case 21:break;default:Ze(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wf(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(os(s,""),n.flags&=-33);var i=Vu(e);sl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Vu(e);nl(e,l,a);break;default:throw Error(N(161))}}catch(c){ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L0(e,t,r){C=e,Hf(e)}function Hf(e,t,r){for(var n=(e.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ii;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||je;l=ii;var u=je;if(ii=a,(je=c)&&!u)for(C=s;C!==null;)a=C,c=a.child,a.tag===22&&a.memoizedState!==null?Gu(s):c!==null?(c.return=a,C=c):Gu(s);for(;i!==null;)C=i,Hf(i),i=i.sibling;C=s,ii=l,je=u}Hu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):Hu(e)}}function Hu(e){for(;C!==null;){var t=C;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||va(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!je)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:tt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&ds(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}je||t.flags&512&&rl(t)}catch(d){ne(t,t.return,d)}}if(t===e){C=null;break}if(r=t.sibling,r!==null){r.return=t.return,C=r;break}C=t.return}}function Ku(e){for(;C!==null;){var t=C;if(t===e){C=null;break}var r=t.sibling;if(r!==null){r.return=t.return,C=r;break}C=t.return}}function Gu(e){for(;C!==null;){var t=C;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{va(4,t)}catch(c){ne(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ne(t,s,c)}}var i=t.return;try{rl(t)}catch(c){ne(t,i,c)}break;case 5:var a=t.return;try{rl(t)}catch(c){ne(t,a,c)}}}catch(c){ne(t,t.return,c)}if(t===e){C=null;break}var l=t.sibling;if(l!==null){l.return=t.return,C=l;break}C=t.return}}var D0=Math.ceil,Yi=At.ReactCurrentDispatcher,yc=At.ReactCurrentOwner,Ge=At.ReactCurrentBatchConfig,V=0,me=null,le=null,ye=0,$e=0,sn=ar(0),he=0,_s=null,Rr=0,xa=0,vc=0,ts=null,Ce=null,xc=0,xn=1/0,jt=null,Xi=!1,il=null,Xt=null,ai=!1,qt=null,Zi=0,rs=0,al=null,Ei=-1,Ci=0;function Se(){return V&6?ie():Ei!==-1?Ei:Ei=ie()}function Zt(e){return e.mode&1?V&2&&ye!==0?ye&-ye:w0.transition!==null?(Ci===0&&(Ci=Th()),Ci):(e=q,e!==0||(e=window.event,e=e===void 0?16:Lh(e.type)),e):1}function lt(e,t,r,n){if(50<rs)throw rs=0,al=null,Error(N(185));Rs(e,r,n),(!(V&2)||e!==me)&&(e===me&&(!(V&2)&&(xa|=r),he===4&&Ft(e,ye)),Ae(e,n),r===1&&V===0&&!(t.mode&1)&&(xn=ie()+500,ma&&or()))}function Ae(e,t){var r=e.callbackNode;wg(e,t);var n=Li(e,e===me?ye:0);if(n===0)r!==null&&nu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nu(r),t===1)e.tag===0?x0(Ju.bind(null,e)):tf(Ju.bind(null,e)),m0(function(){!(V&6)&&or()}),r=null;else{switch(Ph(n)){case 1:r=ql;break;case 4:r=Eh;break;case 16:r=$i;break;case 536870912:r=Ch;break;default:r=$i}r=ep(r,Kf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kf(e,t){if(Ei=-1,Ci=0,V&6)throw Error(N(327));var r=e.callbackNode;if(dn()&&e.callbackNode!==r)return null;var n=Li(e,e===me?ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ea(e,n);else{t=n;var s=V;V|=2;var i=Jf();(me!==e||ye!==t)&&(jt=null,xn=ie()+500,Nr(e,t));do try{M0();break}catch(l){Gf(e,l)}while(!0);sc(),Yi.current=i,V=s,le!==null?t=0:(me=null,ye=0,t=he)}if(t!==0){if(t===2&&(s=Ao(e),s!==0&&(n=s,t=ol(e,s))),t===1)throw r=_s,Nr(e,0),Ft(e,n),Ae(e,ie()),r;if(t===6)Ft(e,n);else{if(s=e.current.alternate,!(n&30)&&!U0(s)&&(t=ea(e,n),t===2&&(i=Ao(e),i!==0&&(n=i,t=ol(e,i))),t===1))throw r=_s,Nr(e,0),Ft(e,n),Ae(e,ie()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:vr(e,Ce,jt);break;case 3:if(Ft(e,n),(n&130023424)===n&&(t=xc+500-ie(),10<t)){if(Li(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Se(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fo(vr.bind(null,e,Ce,jt),t);break}vr(e,Ce,jt);break;case 4:if(Ft(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ot(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D0(n/1960))-n,10<n){e.timeoutHandle=Fo(vr.bind(null,e,Ce,jt),n);break}vr(e,Ce,jt);break;case 5:vr(e,Ce,jt);break;default:throw Error(N(329))}}}return Ae(e,ie()),e.callbackNode===r?Kf.bind(null,e):null}function ol(e,t){var r=ts;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=ea(e,t),e!==2&&(t=Ce,Ce=r,t!==null&&ll(t)),e}function ll(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function U0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~vc,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function Ju(e){if(V&6)throw Error(N(327));dn();var t=Li(e,0);if(!(t&1))return Ae(e,ie()),null;var r=ea(e,t);if(e.tag!==0&&r===2){var n=Ao(e);n!==0&&(t=n,r=ol(e,n))}if(r===1)throw r=_s,Nr(e,0),Ft(e,t),Ae(e,ie()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vr(e,Ce,jt),Ae(e,ie()),null}function wc(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(xn=ie()+500,ma&&or())}}function Ar(e){qt!==null&&qt.tag===0&&!(V&6)&&dn();var t=V;V|=1;var r=Ge.transition,n=q;try{if(Ge.transition=null,q=1,e)return e()}finally{q=n,Ge.transition=r,V=t,!(V&6)&&or()}}function jc(){$e=sn.current,J(sn)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p0(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(tc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fi();break;case 3:yn(),J(Oe),J(_e),uc();break;case 5:cc(n);break;case 4:yn();break;case 13:J(ee);break;case 19:J(ee);break;case 10:ic(n.type._context);break;case 22:case 23:jc()}r=r.return}if(me=e,le=e=er(e.current,null),ye=$e=t,he=0,_s=null,vc=xa=Rr=0,Ce=ts=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}br=null}return e}function Gf(e,t){do{var r=le;try{if(sc(),Si.current=Qi,Ji){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ji=!1}if(Or=0,pe=ue=te=null,Zn=!1,xs=0,yc.current=null,r===null||r.return===null){he=1,_s=t,le=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Lu(a);if(y!==null){y.flags&=-257,Du(y,a,l,i,t),y.mode&1&&$u(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){$u(i,u,t),_c();break e}c=Error(N(426))}}else if(Y&&l.mode&1){var x=Lu(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Du(x,a,l,i,t),rc(vn(c,l));break e}}i=c=vn(c,l),he!==4&&(he=2),ts===null?ts=[i]:ts.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Of(i,c,t);Tu(i,g);break e;case 1:l=c;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xt===null||!Xt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Rf(i,l,t);Tu(i,_);break e}}i=i.return}while(i!==null)}Yf(r)}catch(S){t=S,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function Jf(){var e=Yi.current;return Yi.current=Qi,e===null?Qi:e}function _c(){(he===0||he===3||he===2)&&(he=4),me===null||!(Rr&268435455)&&!(xa&268435455)||Ft(me,ye)}function ea(e,t){var r=V;V|=2;var n=Jf();(me!==e||ye!==t)&&(jt=null,Nr(e,t));do try{z0();break}catch(s){Gf(e,s)}while(!0);if(sc(),V=r,Yi.current=n,le!==null)throw Error(N(261));return me=null,ye=0,he}function z0(){for(;le!==null;)Qf(le)}function M0(){for(;le!==null&&!dg();)Qf(le)}function Qf(e){var t=Zf(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?Yf(e):le=t,yc.current=null}function Yf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=A0(r,t),r!==null){r.flags&=32767,le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,le=null;return}}else if(r=R0(r,t,$e),r!==null){le=r;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);he===0&&(he=5)}function vr(e,t,r){var n=q,s=Ge.transition;try{Ge.transition=null,q=1,F0(e,t,r,n)}finally{Ge.transition=s,q=n}return null}function F0(e,t,r,n){do dn();while(qt!==null);if(V&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jg(e,i),e===me&&(le=me=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ai||(ai=!0,ep($i,function(){return dn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var a=q;q=1;var l=V;V|=4,yc.current=null,$0(e,r),qf(r,e),o0(zo),Di=!!Uo,zo=Uo=null,e.current=r,L0(r),hg(),V=l,q=a,Ge.transition=i}else e.current=r;if(ai&&(ai=!1,qt=e,Zi=s),i=e.pendingLanes,i===0&&(Xt=null),mg(r.stateNode),Ae(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,e=il,il=null,e;return Zi&1&&e.tag!==0&&dn(),i=e.pendingLanes,i&1?e===al?rs++:(rs=0,al=e):rs=0,or(),null}function dn(){if(qt!==null){var e=Ph(Zi),t=Ge.transition,r=q;try{if(Ge.transition=null,q=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Zi=0,V&6)throw Error(N(331));var s=V;for(V|=4,C=e.current;C!==null;){var i=C,a=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(C=u;C!==null;){var h=C;switch(h.tag){case 0:case 11:case 15:es(8,h,i)}var p=h.child;if(p!==null)p.return=h,C=p;else for(;C!==null;){h=C;var d=h.sibling,y=h.return;if(Bf(h),h===u){C=null;break}if(d!==null){d.return=y,C=d;break}C=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}C=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,C=a;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:es(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var f=e.current;for(C=f;C!==null;){a=C;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,C=m;else e:for(a=f;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:va(9,l)}}catch(S){ne(l,l.return,S)}if(l===a){C=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,C=_;break e}C=l.return}}if(V=s,or(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ua,e)}catch{}n=!0}return n}finally{q=r,Ge.transition=t}}return!1}function Qu(e,t,r){t=vn(r,t),t=Of(e,t,1),e=Yt(e,t,1),t=Se(),e!==null&&(Rs(e,1,t),Ae(e,t))}function ne(e,t,r){if(e.tag===3)Qu(e,e,r);else for(;t!==null;){if(t.tag===3){Qu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=vn(r,e),e=Rf(t,e,1),t=Yt(t,e,1),e=Se(),t!==null&&(Rs(t,1,e),Ae(t,e));break}}t=t.return}}function B0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&r,me===e&&(ye&r)===r&&(he===4||he===3&&(ye&130023424)===ye&&500>ie()-xc?Nr(e,0):vc|=r),Ae(e,t)}function Xf(e,t){t===0&&(e.mode&1?(t=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):t=1);var r=Se();e=Pt(e,t),e!==null&&(Rs(e,t,r),Ae(e,r))}function W0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xf(e,r)}function V0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),Xf(e,r)}var Zf;Zf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,O0(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,Y&&t.flags&1048576&&rf(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ni(e,t),e=t.pendingProps;var s=pn(t,_e.current);un(t,r),s=hc(null,t,n,e,s,r);var i=fc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(i=!0,Bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oc(t),s.updater=ya,t.stateNode=s,s._reactInternals=t,Go(t,n,e,r),t=Yo(null,t,n,!0,i,r)):(t.tag=0,Y&&i&&ec(t),be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ni(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=H0(n),e=tt(n,e),s){case 0:t=Qo(null,t,n,e,r);break e;case 1:t=Mu(null,t,n,e,r);break e;case 11:t=Uu(null,t,n,e,r);break e;case 14:t=zu(null,t,n,tt(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),Qo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),Mu(e,t,n,s,r);case 3:e:{if(Lf(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,cf(e,t),Ki(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vn(Error(N(423)),t),t=Fu(e,t,n,r,s);break e}else if(n!==s){s=vn(Error(N(424)),t),t=Fu(e,t,n,r,s);break e}else for(Ue=Qt(t.stateNode.containerInfo.firstChild),ze=t,Y=!0,it=null,r=of(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mn(),n===s){t=Ot(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return uf(t),e===null&&qo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Mo(n,s)?a=null:i!==null&&Mo(n,i)&&(t.flags|=32),$f(e,t),be(e,t,a,r),t.child;case 6:return e===null&&qo(t),null;case 13:return Df(e,t,r);case 4:return lc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gn(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),Uu(e,t,n,s,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,K(qi,n._currentValue),n._currentValue=a,i!==null)if(ct(i.value,a)){if(i.children===s.children&&!Oe.current){t=Ot(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Nt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ho(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ho(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,un(t,r),s=Je(s),n=n(s),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,s=tt(n,t.pendingProps),s=tt(n.type,s),zu(e,t,n,s,r);case 15:return Af(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tt(n,s),Ni(e,t),t.tag=1,Re(n)?(e=!0,Bi(t)):e=!1,un(t,r),Pf(t,n,s),Go(t,n,s,r),Yo(null,t,n,!0,e,r);case 19:return Uf(e,t,r);case 22:return If(e,t,r)}throw Error(N(156,t.tag))};function ep(e,t){return Nh(e,t)}function q0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,n){return new q0(e,t,r,n)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H0(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bl)return 11;if(e===Wl)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ti(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")bc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Gr:return Er(r.children,s,i,t);case Fl:a=8,s|=8;break;case vo:return e=Ke(12,r,t,s|2),e.elementType=vo,e.lanes=i,e;case xo:return e=Ke(13,r,t,s),e.elementType=xo,e.lanes=i,e;case wo:return e=Ke(19,r,t,s),e.elementType=wo,e.lanes=i,e;case ch:return wa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oh:a=10;break e;case lh:a=9;break e;case Bl:a=11;break e;case Wl:a=14;break e;case Ut:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ke(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Er(e,t,r,n){return e=Ke(7,e,n,t),e.lanes=r,e}function wa(e,t,r,n){return e=Ke(22,e,n,t),e.elementType=ch,e.lanes=r,e.stateNode={isHidden:!1},e}function no(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function so(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sc(e,t,r,n,s,i,a,l,c){return e=new K0(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(i),e}function G0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tp(e){if(!e)return nr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Re(r))return ef(e,r,t)}return t}function rp(e,t,r,n,s,i,a,l,c){return e=Sc(r,n,!0,e,s,i,a,l,c),e.context=tp(null),r=e.current,n=Se(),s=Zt(r),i=Nt(n,s),i.callback=t??null,Yt(r,i,s),e.current.lanes=s,Rs(e,s,n),Ae(e,n),e}function ja(e,t,r,n){var s=t.current,i=Se(),a=Zt(s);return r=tp(r),t.context===null?t.context=r:t.pendingContext=r,t=Nt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(s,t,a),e!==null&&(lt(e,s,a,i),bi(e,s,a)),a}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kc(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function J0(){return null}var np=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}_a.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ja(e,t,null,null)};_a.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){ja(null,e,null,null)}),t[Tt]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ah();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&t!==0&&t<Mt[r].priority;r++);Mt.splice(r,0,e),r===0&&$h(e)}};function Ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Q0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ta(a);i.call(u)}}var a=rp(t,n,e,0,null,!1,!1,"",Xu);return e._reactRootContainer=a,e[Tt]=a.current,ps(e.nodeType===8?e.parentNode:e),Ar(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ta(c);l.call(u)}}var c=Sc(e,0,!1,null,null,!1,!1,"",Xu);return e._reactRootContainer=c,e[Tt]=c.current,ps(e.nodeType===8?e.parentNode:e),Ar(function(){ja(t,c,r,n)}),c}function Sa(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ta(a);l.call(c)}}ja(t,a,e,s)}else a=Q0(r,t,e,s,n);return ta(a)}Oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qn(t.pendingLanes);r!==0&&(Hl(t,r|1),Ae(t,ie()),!(V&6)&&(xn=ie()+500,or()))}break;case 13:Ar(function(){var n=Pt(e,1);if(n!==null){var s=Se();lt(n,e,1,s)}}),kc(e,1)}};Kl=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=Se();lt(t,e,134217728,r)}kc(e,134217728)}};Rh=function(e){if(e.tag===13){var t=Zt(e),r=Pt(e,t);if(r!==null){var n=Se();lt(r,e,t,n)}kc(e,t)}};Ah=function(){return q};Ih=function(e,t){var r=q;try{return q=e,t()}finally{q=r}};Po=function(e,t,r){switch(t){case"input":if(bo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=pa(n);if(!s)throw Error(N(90));dh(n),bo(n,s)}}}break;case"textarea":fh(e,r);break;case"select":t=r.value,t!=null&&an(e,!!r.multiple,t,!1)}};wh=wc;jh=Ar;var Y0={usingClientEntryPoint:!1,Events:[Is,Xr,pa,vh,xh,wc]},Bn={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sh(e),e===null?null:e.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||J0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{ua=oi.inject(X0),gt=oi}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y0;We.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ec(t))throw Error(N(200));return G0(e,t,null,r)};We.createRoot=function(e,t){if(!Ec(e))throw Error(N(299));var r=!1,n="",s=np;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Sc(e,1,!1,null,null,r,!1,n,s),e[Tt]=t.current,ps(e.nodeType===8?e.parentNode:e),new Nc(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Sh(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return Ar(e)};We.hydrate=function(e,t,r){if(!ba(t))throw Error(N(200));return Sa(null,e,t,!0,r)};We.hydrateRoot=function(e,t,r){if(!Ec(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=np;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=rp(t,null,e,1,r??null,s,!1,i,a),e[Tt]=t.current,ps(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _a(t)};We.render=function(e,t,r){if(!ba(t))throw Error(N(200));return Sa(null,e,t,!1,r)};We.unmountComponentAtNode=function(e){if(!ba(e))throw Error(N(40));return e._reactRootContainer?(Ar(function(){Sa(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1};We.unstable_batchedUpdates=wc;We.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ba(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Sa(e,t,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sp)}catch(e){console.error(e)}}sp(),nh.exports=We;var Z0=nh.exports,Zu=Z0;go.createRoot=Zu.createRoot,go.hydrateRoot=Zu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(this,arguments)}var Ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ht||(Ht={}));const ed="popstate";function ey(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return cl("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ra(s)}return ry(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ip(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ty(){return Math.random().toString(36).substr(2,8)}function td(e,t){return{usr:e.state,key:e.key,idx:t}}function cl(e,t,r,n){return r===void 0&&(r=null),bs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kn(t):t,{state:r,key:t&&t.key||n||ty()})}function ra(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ry(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Ht.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(bs({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){l=Ht.Pop;let x=h(),g=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:g})}function d(x,g){l=Ht.Push;let f=cl(w.location,x,g);u=h()+1;let m=td(f,u),_=w.createHref(f);try{a.pushState(m,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:l,location:w.location,delta:1})}function y(x,g){l=Ht.Replace;let f=cl(w.location,x,g);u=h();let m=td(f,u),_=w.createHref(f);a.replaceState(m,"",_),i&&c&&c({action:l,location:w.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof x=="string"?x:ra(x);return f=f.replace(/ $/,"%20"),ae(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let w={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ed,p),c=x,()=>{s.removeEventListener(ed,p),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:y,go(x){return a.go(x)}};return w}var rd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rd||(rd={}));function ny(e,t,r){return r===void 0&&(r="/"),sy(e,t,r)}function sy(e,t,r,n){let s=typeof t=="string"?kn(t):t,i=Cc(s.pathname||"/",r);if(i==null)return null;let a=ap(e);iy(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=yy(i);l=py(a[c],u)}return l}function ap(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ae(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=tr([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ap(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:hy(u,i.index),routesMeta:h})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of op(i.path))s(i,a,c)}),t}function op(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=op(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ay=/^:[\w-]+$/,oy=3,ly=2,cy=1,uy=10,dy=-2,nd=e=>e==="*";function hy(e,t){let r=e.split("/"),n=r.length;return r.some(nd)&&(n+=dy),t&&(n+=ly),r.filter(s=>!nd(s)).reduce((s,i)=>s+(ay.test(i)?oy:i===""?cy:uy),n)}function fy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function py(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=my({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),d=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:tr([i,p.pathname]),pathnameBase:jy(tr([i,p.pathnameBase])),route:d}),p.pathnameBase!=="/"&&(i=tr([i,p.pathnameBase]))}return a}function my(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=gy(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,p)=>{let{paramName:d,isOptional:y}=h;if(d==="*"){let w=l[p]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function gy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ip(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function yy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ip(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?kn(e):e;return{pathname:r?r.startsWith("/")?r:xy(r,t):t,search:_y(n),hash:by(s)}}function xy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function io(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Tc(e,t){let r=wy(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Pc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=kn(e):(s=bs({},e),ae(!s.pathname||!s.pathname.includes("?"),io("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),io("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),io("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let p=t.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),p-=1;s.pathname=d.join("/")}l=p>=0?t[p]:"/"}let c=vy(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const tr=e=>e.join("/").replace(/\/\/+/g,"/"),jy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_y=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,by=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lp=["post","put","patch","delete"];new Set(lp);const ky=["get",...lp];new Set(ky);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}const Oc=b.createContext(null),Ny=b.createContext(null),lr=b.createContext(null),ka=b.createContext(null),cr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),cp=b.createContext(null);function Ey(e,t){let{relative:r}=t===void 0?{}:t;Nn()||ae(!1);let{basename:n,navigator:s}=b.useContext(lr),{hash:i,pathname:a,search:l}=dp(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:tr([n,a])),s.createHref({pathname:c,search:l,hash:i})}function Nn(){return b.useContext(ka)!=null}function Ls(){return Nn()||ae(!1),b.useContext(ka).location}function up(e){b.useContext(lr).static||b.useLayoutEffect(e)}function En(){let{isDataRoute:e}=b.useContext(cr);return e?My():Cy()}function Cy(){Nn()||ae(!1);let e=b.useContext(Oc),{basename:t,future:r,navigator:n}=b.useContext(lr),{matches:s}=b.useContext(cr),{pathname:i}=Ls(),a=JSON.stringify(Tc(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return up(()=>{l.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Pc(u,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:tr([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,a,i,e])}function dp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(lr),{matches:s}=b.useContext(cr),{pathname:i}=Ls(),a=JSON.stringify(Tc(s,n.v7_relativeSplatPath));return b.useMemo(()=>Pc(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Ty(e,t){return Py(e,t)}function Py(e,t,r,n){Nn()||ae(!1);let{navigator:s}=b.useContext(lr),{matches:i}=b.useContext(cr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ls(),h;if(t){var p;let x=typeof t=="string"?kn(t):t;c==="/"||(p=x.pathname)!=null&&p.startsWith(c)||ae(!1),h=x}else h=u;let d=h.pathname||"/",y=d;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=ny(e,{pathname:y}),w=$y(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:tr([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:tr([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?b.createElement(ka.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ht.Pop}},w):w}function Oy(){let e=zy(),t=Sy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const Ry=b.createElement(Oy,null);class Ay extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(cr.Provider,{value:this.props.routeContext},b.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iy(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Oc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(cr.Provider,{value:t},n)}function $y(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);h>=0||ae(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:d,errors:y}=r,v=p.route.loader&&d[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,d)=>{let y,v=!1,w=null,x=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||Ry,c&&(u<0&&d===0?(Fy("route-fallback"),v=!0,x=null):u===d&&(v=!0,x=p.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),f=()=>{let m;return y?m=w:v?m=x:p.route.Component?m=b.createElement(p.route.Component,null):p.route.element?m=p.route.element:m=h,b.createElement(Iy,{match:p,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:m})};return r&&(p.route.ErrorBoundary||p.route.errorElement||d===0)?b.createElement(Ay,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var hp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hp||{}),fp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fp||{});function Ly(e){let t=b.useContext(Oc);return t||ae(!1),t}function Dy(e){let t=b.useContext(Ny);return t||ae(!1),t}function Uy(e){let t=b.useContext(cr);return t||ae(!1),t}function pp(e){let t=Uy(),r=t.matches[t.matches.length-1];return r.route.id||ae(!1),r.route.id}function zy(){var e;let t=b.useContext(cp),r=Dy(),n=pp();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function My(){let{router:e}=Ly(hp.UseNavigateStable),t=pp(fp.UseNavigateStable),r=b.useRef(!1);return up(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ss({fromRouteId:t},i)))},[e,t])}const sd={};function Fy(e,t,r){sd[e]||(sd[e]=!0)}function By(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ks(e){let{to:t,replace:r,state:n,relative:s}=e;Nn()||ae(!1);let{future:i,static:a}=b.useContext(lr),{matches:l}=b.useContext(cr),{pathname:c}=Ls(),u=En(),h=Pc(t,Tc(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(h);return b.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:s}),[u,p,s,r,n]),null}function dt(e){ae(!1)}function Wy(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ht.Pop,navigator:i,static:a=!1,future:l}=e;Nn()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:a,future:Ss({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=kn(n));let{pathname:h="/",search:p="",hash:d="",state:y=null,key:v="default"}=n,w=b.useMemo(()=>{let x=Cc(h,c);return x==null?null:{location:{pathname:x,search:p,hash:d,state:y,key:v},navigationType:s}},[c,h,p,d,y,v,s]);return w==null?null:b.createElement(lr.Provider,{value:u},b.createElement(ka.Provider,{children:r,value:w}))}function Vy(e){let{children:t,location:r}=e;return Ty(ul(t),r)}new Promise(()=>{});function ul(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,ul(n.props.children,i));return}n.type!==dt&&ae(!1),!n.props.index||!n.props.children||ae(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=ul(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(this,arguments)}function qy(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Hy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ky(e,t){return e.button===0&&(!t||t==="_self")&&!Hy(e)}const Gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jy="6";try{window.__reactRouterVersion=Jy}catch{}const Qy="startTransition",id=Bm[Qy];function Yy(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=ey({window:s,v5Compat:!0}));let a=i.current,[l,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=b.useCallback(p=>{u&&id?id(()=>c(p)):c(p)},[c,u]);return b.useLayoutEffect(()=>a.listen(h),[a,h]),b.useEffect(()=>By(n),[n]),b.createElement(Wy,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const Xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=t,d=qy(t,Gy),{basename:y}=b.useContext(lr),v,w=!1;if(typeof u=="string"&&Zy.test(u)&&(v=u,Xy))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Cc(_.pathname,y);_.origin===m.origin&&S!=null?u=S+_.search+_.hash:w=!0}catch{}let x=Ey(u,{relative:s}),g=ev(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:p});function f(m){n&&n(m),m.defaultPrevented||g(m)}return b.createElement("a",dl({},d,{href:v||x,onClick:w||i?n:f,ref:r,target:c}))});var ad;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ad||(ad={}));var od;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(od||(od={}));function ev(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=En(),u=Ls(),h=dp(e,{relative:a});return b.useCallback(p=>{if(Ky(p,r)){p.preventDefault();let d=n!==void 0?n:ra(u)===ra(h);c(e,{replace:d,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,n,s,r,e,i,a,l])}let tv={data:""},rv=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||tv},nv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sv=/\/\*[^]*?\*\/|  +/g,ld=/\n+/g,Bt=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?Bt(a,i):i+"{"+Bt(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=Bt(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Bt.p?Bt.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},wt={},mp=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+mp(e[r]);return t}return e},iv=(e,t,r,n,s)=>{let i=mp(e),a=wt[i]||(wt[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!wt[a]){let c=i!==e?e:(u=>{let h,p,d=[{}];for(;h=nv.exec(u.replace(sv,""));)h[4]?d.shift():h[3]?(p=h[3].replace(ld," ").trim(),d.unshift(d[0][p]=d[0][p]||{})):d[0][h[1]]=h[2].replace(ld," ").trim();return d[0]})(e);wt[a]=Bt(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&wt.g?wt.g:null;return r&&(wt.g=wt[a]),((c,u,h,p)=>{p?u.data=u.data.replace(p,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(wt[a],t,n,l),a},av=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Bt(l,""):l===!1?"":l}return n+s+(a??"")},"");function Na(e){let t=this||{},r=e.call?e(t.p):e;return iv(r.unshift?r.raw?av(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,rv(t.target),t.g,t.o,t.k)}let gp,hl,fl;Na.bind({g:1});let Rt=Na.bind({k:1});function ov(e,t,r,n){Bt.p=t,gp=e,hl=r,fl=n}function ur(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:hl&&hl()},l),r.o=/ *go\d+/.test(c),l.className=Na.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),fl&&u[0]&&fl(l),gp(u,l)}return s}}var lv=e=>typeof e=="function",na=(e,t)=>lv(e)?e(t):e,cv=(()=>{let e=0;return()=>(++e).toString()})(),yp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),uv=20,Rc="default",vp=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return vp(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Pi=[],xp={toasts:[],pausedAt:void 0,settings:{toastLimit:uv}},mt={},wp=(e,t=Rc)=>{mt[t]=vp(mt[t]||xp,e),Pi.forEach(([r,n])=>{r===t&&n(mt[t])})},jp=e=>Object.keys(mt).forEach(t=>wp(e,t)),dv=e=>Object.keys(mt).find(t=>mt[t].toasts.some(r=>r.id===e)),Ea=(e=Rc)=>t=>{wp(t,e)},hv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fv=(e={},t=Rc)=>{let[r,n]=b.useState(mt[t]||xp),s=b.useRef(mt[t]);b.useEffect(()=>(s.current!==mt[t]&&n(mt[t]),Pi.push([t,n]),()=>{let a=Pi.findIndex(([l])=>l===t);a>-1&&Pi.splice(a,1)}),[t]);let i=r.toasts.map(a=>{var l,c,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||hv[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:i}},pv=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||cv()}),Ds=e=>(t,r)=>{let n=pv(t,e,r);return Ea(n.toasterId||dv(n.id))({type:2,toast:n}),n.id},de=(e,t)=>Ds("blank")(e,t);de.error=Ds("error");de.success=Ds("success");de.loading=Ds("loading");de.custom=Ds("custom");de.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Ea(t)(r):jp(r)};de.dismissAll=e=>de.dismiss(void 0,e);de.remove=(e,t)=>{let r={type:4,toastId:e};t?Ea(t)(r):jp(r)};de.removeAll=e=>de.remove(void 0,e);de.promise=(e,t,r)=>{let n=de.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?na(t.success,s):void 0;return i?de.success(i,{id:n,...r,...r==null?void 0:r.success}):de.dismiss(n),s}).catch(s=>{let i=t.error?na(t.error,s):void 0;i?de.error(i,{id:n,...r,...r==null?void 0:r.error}):de.dismiss(n)}),e};var mv=1e3,gv=(e,t="default")=>{let{toasts:r,pausedAt:n}=fv(e,t),s=b.useRef(new Map).current,i=b.useCallback((p,d=mv)=>{if(s.has(p))return;let y=setTimeout(()=>{s.delete(p),a({type:4,toastId:p})},d);s.set(p,y)},[]);b.useEffect(()=>{if(n)return;let p=Date.now(),d=r.map(y=>{if(y.duration===1/0)return;let v=(y.duration||0)+y.pauseDuration-(p-y.createdAt);if(v<0){y.visible&&de.dismiss(y.id);return}return setTimeout(()=>de.dismiss(y.id,t),v)});return()=>{d.forEach(y=>y&&clearTimeout(y))}},[r,n,t]);let a=b.useCallback(Ea(t),[t]),l=b.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=b.useCallback((p,d)=>{a({type:1,toast:{id:p,height:d}})},[a]),u=b.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),h=b.useCallback((p,d)=>{let{reverseOrder:y=!1,gutter:v=8,defaultPosition:w}=d||{},x=r.filter(m=>(m.position||w)===(p.position||w)&&m.height),g=x.findIndex(m=>m.id===p.id),f=x.filter((m,_)=>_<g&&m.visible).length;return x.filter(m=>m.visible).slice(...y?[f+1]:[0,f]).reduce((m,_)=>m+(_.height||0)+v,0)},[r]);return b.useEffect(()=>{r.forEach(p=>{if(p.dismissed)i(p.id,p.removeDelay);else{let d=s.get(p.id);d&&(clearTimeout(d),s.delete(p.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:h}}},yv=Rt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vv=Rt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xv=Rt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wv=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jv=Rt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_v=ur("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${jv} 1s linear infinite;
`,bv=Rt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sv=Rt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kv=ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Nv=ur("div")`
  position: absolute;
`,Ev=ur("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Cv=Rt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tv=ur("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Cv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Pv=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(Tv,null,t):t:r==="blank"?null:b.createElement(Ev,null,b.createElement(_v,{...n}),r!=="loading"&&b.createElement(Nv,null,r==="error"?b.createElement(wv,{...n}):b.createElement(kv,{...n})))},Ov=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rv=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Av="0%{opacity:0;} 100%{opacity:1;}",Iv="0%{opacity:1;} 100%{opacity:0;}",$v=ur("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Lv=ur("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Dv=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=yp()?[Av,Iv]:[Ov(r),Rv(r)];return{animation:t?`${Rt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Uv=b.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Dv(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(Pv,{toast:e}),a=b.createElement(Lv,{...e.ariaProps},na(e.message,e));return b.createElement($v,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):b.createElement(b.Fragment,null,i,a))});ov(b.createElement);var zv=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=b.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:i,className:t,style:r},s)},Mv=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Fv=Na`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,li=16,Bv=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:u}=gv(r,i);return b.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:li,left:li,right:li,bottom:li,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let p=h.position||t,d=u.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),y=Mv(p,d);return b.createElement(zv,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?Fv:"",style:y},h.type==="custom"?na(h.message,h):s?s(h):b.createElement(Uv,{toast:h,position:p}))}))},B=de,pl=function(e,t){return pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},pl(e,t)};function _p(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sa=function(){return sa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sa.apply(this,arguments)};function Cn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function bp(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Sp(e,t){return function(r,n){t(r,n,e)}}function kp(e,t,r,n,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p,d=!1,y=r.length-1;y>=0;y--){var v={};for(var w in n)v[w]=w==="access"?{}:n[w];for(var w in n.access)v.access[w]=n.access[w];v.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var x=(0,r[y])(l==="accessor"?{get:h.get,set:h.set}:h[c],v);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(p=a(x.get))&&(h.get=p),(p=a(x.set))&&(h.set=p),(p=a(x.init))&&s.unshift(p)}else(p=a(x))&&(l==="field"?s.unshift(p):h[c]=p)}u&&Object.defineProperty(u,n.name,h),d=!0}function Np(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Ep(e){return typeof e=="symbol"?e:"".concat(e)}function Cp(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Tp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function P(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(p){a(p)}}function c(h){try{u(n.throw(h))}catch(p){a(p)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Pp(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ca=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Op(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ca(t,e,r)}function ia(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ac(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function Rp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ac(arguments[t]));return e}function Ap(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function Ip(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function wn(e){return this instanceof wn?(this.v=e,this):new wn(e)}function $p(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(y){return function(v){return Promise.resolve(v).then(y,p)}}function l(y,v){n[y]&&(s[y]=function(w){return new Promise(function(x,g){i.push([y,w,x,g])>1||c(y,w)})},v&&(s[y]=v(s[y])))}function c(y,v){try{u(n[y](v))}catch(w){d(i[0][3],w)}}function u(y){y.value instanceof wn?Promise.resolve(y.value.v).then(h,p):d(i[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function d(y,v){y(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Lp(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:wn(e[s](a)),done:!1}:i?i(a):a}:i}}function Dp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ia=="function"?ia(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function Up(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Wv=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ml=function(e){return ml=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ml(e)};function zp(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ml(e),n=0;n<r.length;n++)r[n]!=="default"&&Ca(t,e,r[n]);return Wv(t,e),t}function Mp(e){return e&&e.__esModule?e:{default:e}}function Fp(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Bp(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Wp(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Vp(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Vv=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function qp(e){function t(i){e.error=e.hasError?new Vv(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Hp(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const qv={__extends:_p,__assign:sa,__rest:Cn,__decorate:bp,__param:Sp,__esDecorate:kp,__runInitializers:Np,__propKey:Ep,__setFunctionName:Cp,__metadata:Tp,__awaiter:P,__generator:Pp,__createBinding:Ca,__exportStar:Op,__values:ia,__read:Ac,__spread:Rp,__spreadArrays:Ap,__spreadArray:Ip,__await:wn,__asyncGenerator:$p,__asyncDelegator:Lp,__asyncValues:Dp,__makeTemplateObject:Up,__importStar:zp,__importDefault:Mp,__classPrivateFieldGet:Fp,__classPrivateFieldSet:Bp,__classPrivateFieldIn:Wp,__addDisposableResource:Vp,__disposeResources:qp,__rewriteRelativeImportExtension:Hp},Hv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Vp,get __assign(){return sa},__asyncDelegator:Lp,__asyncGenerator:$p,__asyncValues:Dp,__await:wn,__awaiter:P,__classPrivateFieldGet:Fp,__classPrivateFieldIn:Wp,__classPrivateFieldSet:Bp,__createBinding:Ca,__decorate:bp,__disposeResources:qp,__esDecorate:kp,__exportStar:Op,__extends:_p,__generator:Pp,__importDefault:Mp,__importStar:zp,__makeTemplateObject:Up,__metadata:Tp,__param:Sp,__propKey:Ep,__read:Ac,__rest:Cn,__rewriteRelativeImportExtension:Hp,__runInitializers:Np,__setFunctionName:Cp,__spread:Rp,__spreadArray:Ip,__spreadArrays:Ap,__values:ia,default:qv},Symbol.toStringTag,{value:"Module"})),Kv="modulepreload",Gv=function(e){return"/"+e},cd={},Tn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Gv(c),c in cd)return;cd[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Kv,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((d,y)=>{p.addEventListener("load",d),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Jv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tn(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ic extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ud extends Ic{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dd extends Ic{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hd extends Ic{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gl||(gl={}));class Qv{constructor(t,{headers:r={},customFetch:n,region:s=gl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Jv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return P(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let d;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(u["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(u["Content-Type"]="application/json",d=JSON.stringify(l)):d=l;const y=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:d,signal:c}).catch(g=>{throw g.name==="AbortError"?g:new ud(g)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new dd(y);if(!y.ok)throw new hd(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield y.json():w==="application/octet-stream"||w==="application/pdf"?x=yield y.blob():w==="text/event-stream"?x=y:w==="multipart/form-data"?x=yield y.formData():x=yield y.text(),{data:x,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ud(i)}:{data:null,error:i,response:i instanceof hd||i instanceof dd?i.context:void 0}}})}}var Te={};const Pn=Vd(Hv);var ci={},ui={},di={},hi={},fi={},Yv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=Yv();const Xv=jn.fetch,Kp=jn.fetch.bind(jn),Gp=jn.Headers,Zv=jn.Request,ex=jn.Response,Dr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gp,Request:Zv,Response:ex,default:Kp,fetch:Xv},Symbol.toStringTag,{value:"Module"})),tx=Vd(Dr);var pi={},fd;function Jp(){if(fd)return pi;fd=1,Object.defineProperty(pi,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pi.default=e,pi}var pd;function Qp(){if(pd)return fi;pd=1,Object.defineProperty(fi,"__esModule",{value:!0});const e=Pn,t=e.__importDefault(tx),r=e.__importDefault(Jp());class n{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,p,d,y;let v=null,w=null,x=null,g=u.status,f=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?w=k:w=JSON.parse(k))}const _=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),S=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&S&&S.length>1&&(x=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,x=null,g=406,f="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const _=await u.text();try{v=JSON.parse(_),Array.isArray(v)&&u.status===404&&(w=[],v=null,g=200,f="OK")}catch{u.status===404&&_===""?(g=204,f="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((y=v==null?void 0:v.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,g=200,f="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:w,count:x,status:g,statusText:f}});return this.shouldThrowOnError||(c=c.catch(u=>{var h,p,d;return{error:{message:`${(h=u==null?void 0:u.name)!==null&&h!==void 0?h:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(p=u==null?void 0:u.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}}return fi.default=n,fi}var md;function Yp(){if(md)return hi;md=1,Object.defineProperty(hi,"__esModule",{value:!0});const t=Pn.__importDefault(Qp());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const p=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),d=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return hi.default=r,hi}var gd;function $c(){if(gd)return di;gd=1,Object.defineProperty(di,"__esModule",{value:!0});const t=Pn.__importDefault(Yp());class r extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(s,i,a){return this.url.searchParams.append(s,`not.${i}.${a}`),this}or(s,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,i,a){return this.url.searchParams.append(s,`${i}.${a}`),this}}return di.default=r,di}var yd;function Xp(){if(yd)return ui;yd=1,Object.defineProperty(ui,"__esModule",{value:!0});const t=Pn.__importDefault($c());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((d,y)=>d.concat(Object.keys(y)),[]);if(p.length>0){const d=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ui.default=r,ui}var vd;function rx(){if(vd)return ci;vd=1,Object.defineProperty(ci,"__esModule",{value:!0});const e=Pn,t=e.__importDefault(Xp()),r=e.__importDefault($c());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var h;let p;const d=new URL(`${this.url}/rpc/${i}`);let y;l||c?(p=l?"HEAD":"GET",Object.entries(a).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{d.searchParams.append(w,x)})):(p="POST",y=a);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:p,url:d,headers:v,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return ci.default=n,ci}Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const On=Pn,Zp=On.__importDefault(rx());Te.PostgrestClient=Zp.default;const em=On.__importDefault(Xp());Te.PostgrestQueryBuilder=em.default;const tm=On.__importDefault($c());Te.PostgrestFilterBuilder=tm.default;const rm=On.__importDefault(Yp());Te.PostgrestTransformBuilder=rm.default;const nm=On.__importDefault(Qp());Te.PostgrestBuilder=nm.default;const sm=On.__importDefault(Jp());Te.PostgrestError=sm.default;var nx=Te.default={PostgrestClient:Zp.default,PostgrestQueryBuilder:em.default,PostgrestFilterBuilder:tm.default,PostgrestTransformBuilder:rm.default,PostgrestBuilder:nm.default,PostgrestError:sm.default};const{PostgrestClient:sx,PostgrestQueryBuilder:q1,PostgrestFilterBuilder:H1,PostgrestTransformBuilder:K1,PostgrestBuilder:G1,PostgrestError:J1}=nx;class ix{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ax="2.76.1",ox=`realtime-js/${ax}`,lx="1.0.0",yl=1e4,cx=1e3,ux=100;var ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ns||(ns={}));var ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ce||(ce={}));var st;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(st||(st={}));var vl;(function(e){e.websocket="websocket"})(vl||(vl={}));var wr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wr||(wr={}));class dx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class im{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const xd=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=hx(a,e,t,s),i),{}):{}},hx=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?am(i,a):xl(a)},am=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gx(t,r)}switch(e){case H.bool:return fx(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return px(t);case H.json:case H.jsonb:return mx(t);case H.timestamp:return yx(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return xl(t);default:return xl(t)}},xl=e=>e,fx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},px=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>am(t,l))}return e},yx=e=>typeof e=="string"?e.replace(" ","T"):e,om=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ao{constructor(t,r,n={},s=yl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wd||(wd={}));class ss{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=ss.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ss.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{a[u]||(c[u]=h)}),this.map(a,(u,h)=>{const p=i[u];if(p){const d=h.map(x=>x.presence_ref),y=p.map(x=>x.presence_ref),v=h.filter(x=>y.indexOf(x.presence_ref)<0),w=p.filter(x=>d.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const p=t[l].map(y=>y.presence_ref),d=h.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...d)}n(l,h,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jd||(jd={}));var is;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(is||(is={}));var _t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class Lc{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ao(this,st.join,this.params,this.timeout),this.rejoinTimer=new im(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new ss(this),this.broadcastEndpointURL=om(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[is.PRESENCE]&&this.bindings[is.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},d={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(_t.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(_t.CLOSED)),this.updateJoinPayload(Object.assign({config:d},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(_t.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let f=0;f<x;f++){const m=w[f],{filter:{event:_,schema:S,table:k,filter:j}}=m,E=y&&y[f];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===j)g.push(Object.assign(Object.assign({},m),{id:E.id}));else{this.unsubscribe(),this.state=ce.errored,t==null||t(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(_t.SUBSCRIBED);return}}).receive("error",y=>{this.state=ce.errored,t==null||t(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ce.joined&&t===is.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ao(this,st.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ao(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ux){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=st;if(n&&[l,c,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,x;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=y.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(y=>y.callback(d,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,w,x,g,f,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const _=y.id,S=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:w,table:x,commit_timestamp:g,type:f,errors:m}=v;d=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(d,n)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Lc.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=xd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=xd(t.columns,t.old_record)),r}}const oo=()=>{},mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vx=[1e3,2e3,5e3,1e4],xx=1e4,wx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jx{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yl,this.transport=null,this.heartbeatIntervalMs=mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oo,this.ref=0,this.reconnectTimer=null,this.logger=oo,this.conn=null,this.sendBuffer=[],this.serializer=new dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Tn(async()=>{const{default:l}=await Promise.resolve().then(()=>Dr);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${vl.websocket}`,this.httpEndpoint=om(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ix.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lx}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return wr.Connecting;case ns.open:return wr.Open;case ns.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Lc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ox};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new im(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:yl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:mi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:oo,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>vx[p-1]||xx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,d)=>d(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Dc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Z(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _x extends Dc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wl extends Dc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Uc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tn(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},bx=()=>P(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tn(()=>Promise.resolve().then(()=>Dr),void 0)).Response:Response}),jl=e=>{if(Array.isArray(e))return e.map(r=>jl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jl(n)}),t},Sx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kx=(e,t,r)=>P(void 0,void 0,void 0,function*(){const n=yield bx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new _x(lo(s),i,a))}).catch(s=>{t(new wl(lo(s),s))}):t(new wl(lo(e),e))}),Nx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Sx(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Us(e,t,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Nx(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>kx(c,l,n))})})}function Ns(e,t,r,n){return P(this,void 0,void 0,function*(){return Us(e,"GET",t,r,n)})}function rt(e,t,r,n,s){return P(this,void 0,void 0,function*(){return Us(e,"POST",t,n,s,r)})}function _l(e,t,r,n,s){return P(this,void 0,void 0,function*(){return Us(e,"PUT",t,n,s,r)})}function Ex(e,t,r,n){return P(this,void 0,void 0,function*(){return Us(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zc(e,t,r,n,s){return P(this,void 0,void 0,function*(){return Us(e,"DELETE",t,n,s,r)})}class Cx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}})}}var lm;class Tx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[lm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cx(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}})}}lm=Symbol.toStringTag;const Px={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_d={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ox{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},_d),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),p=yield(t=="PUT"?_l:rt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}})}upload(t,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:_d.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const p=yield _l(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Z(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Dc("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}update(t,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}copy(t,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield rt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return P(this,void 0,void 0,function*(){try{const s=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Ns(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Tx(c,this.shouldThrowOnError)}info(t){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ns(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}exists(t){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ex(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n)&&n instanceof wl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return P(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}list(t,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Px),r),{prefix:t||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}listV2(t,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const cm="2.76.1",um={"X-Client-Info":`storage-js/${cm}`};class Rx{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},um),r),this.fetch=Uc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return P(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}})}getBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}createBucket(t){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return P(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}})}emptyBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}deleteBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}}class Ax{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},um),r),this.fetch=Uc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}listBuckets(t){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield Ns(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}deleteBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}})}}const Mc={"X-Client-Info":`storage-js/${cm}`,"Content-Type":"application/json"};class dm extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Le(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class co extends dm{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ix extends dm{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var bd;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bd||(bd={}));const Fc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tn(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$x=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lx=(e,t,r)=>P(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new co(Sd(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new co(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new co(l,s,a))}}else t(new Ix(Sd(e),e))}),Dx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?($x(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Ux(e,t,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Dx(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>Lx(c,l,n))})})}function De(e,t,r,n,s){return P(this,void 0,void 0,function*(){return Ux(e,"POST",t,n,s,r)})}class zx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mc),r),this.fetch=Fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return P(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getIndex(t,r){return P(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}listIndexes(t){return P(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return P(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}}class Mx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mc),r),this.fetch=Fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return P(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield De(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getVectors(t){return P(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listVectors(t){return P(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield De(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}queryVectors(t){return P(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteVectors(t){return P(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield De(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}class Fx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mc),r),this.fetch=Fc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return P(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getBucket(t){return P(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(t={}){try{return{data:yield De(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return P(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}class Bx extends Fx{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Wx(this.url,this.headers,t,this.fetch)}}class Wx extends zx{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Vx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Vx extends Mx{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qx extends Rx{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Ox(this.url,this.headers,t,this.fetch)}get vectors(){return new Bx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ax(this.url+"/iceberg",this.headers,this.fetch)}}const Hx="2.76.1";let Kn="";typeof Deno<"u"?Kn="deno":typeof document<"u"?Kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kn="react-native":Kn="node";const Kx={"X-Client-Info":`supabase-js-${Kn}/${Hx}`},Gx={headers:Kx},Jx={schema:"public"},Qx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yx={},Xx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Kp:t=fetch,(...r)=>t(...r)},Zx=()=>typeof Headers>"u"?Gp:Headers,ew=(e,t,r)=>{const n=Xx(r),s=Zx();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function tw(e){return e.endsWith("/")?e:e+"/"}function rw(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:h,global:p}=t,d={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function nw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hm="2.76.1",qr=30*1e3,bl=3,uo=bl*qr,sw="http://localhost:9999",iw="supabase.auth.token",aw={"X-Client-Info":`gotrue-js/${hm}`},Sl="X-Supabase-Api-Version",fm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ow=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lw=10*60*1e3;class Es extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cw extends Es{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uw(e){return I(e)&&e.name==="AuthApiError"}class jr extends Es{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class dr extends Es{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Dt extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dw(e){return I(e)&&e.name==="AuthSessionMissingError"}class zr extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gi extends dr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yi extends dr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hw(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class kd extends dr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kl extends dr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ho(e){return I(e)&&e.name==="AuthRetryableFetchError"}class Nd extends dr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nl extends dr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ed=` 	
\r=`.split(""),fw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=-2;for(let t=0;t<aa.length;t+=1)e[aa[t].charCodeAt(0)]=t;return e})();function Cd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(aa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(aa[n]),t.queuedBits-=6}}function pm(e,t,r){const n=fw[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Td(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{gw(a,n,r)};for(let a=0;a<e.length;a+=1)pm(e.charCodeAt(a),s,i);return t.join("")}function pw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mw(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}pw(n,t)}}function gw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)pm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function yw(e){const t=[];return mw(e,r=>t.push(r)),new Uint8Array(t)}function kr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Cd(s,r,n)),Cd(null,r,n),t.join("")}function vw(e){return Math.round(Date.now()/1e3)+e}function xw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ie=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},mm=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function ww(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const gm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tn(async()=>{const{default:n}=await Promise.resolve().then(()=>Dr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lt=async(e,t)=>{await e.removeItem(t)};class Ta{constructor(){this.promise=new Ta.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ta.promiseConstructor=Promise;function fo(e){const t=e.split(".");if(t.length!==3)throw new Nl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ow.test(t[n]))throw new Nl("JWT not in base64url format");return{header:JSON.parse(Td(t[0])),payload:JSON.parse(Td(t[1])),signature:hn(t[2]),raw:{header:t[0],payload:t[1]}}}async function _w(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function bw(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Sw(e){return("0"+e.toString(16)).substr(-2)}function kw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Sw).join("")}async function Nw(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ew(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Nw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mr(e,t,r=!1){const n=kw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hr(e,`${t}-code-verifier`,s);const i=await Ew(n);return[i,n===i?"plain":"s256"]}const Cw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tw(e){const t=e.headers.get(Sl);if(!t||!t.match(Cw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ow(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(e){if(!Rw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function po(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pd(e){return JSON.parse(JSON.stringify(e))}const xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Aw=[502,503,504];async function Od(e){var t;if(!jw(e))throw new kl(xr(e),0);if(Aw.includes(e.status))throw new kl(xr(e),e.status);let r;try{r=await e.json()}catch(i){throw new jr(xr(i),i)}let n;const s=Tw(e);if(s&&s.getTime()>=fm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nd(xr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Nd(xr(r),e.status,r.weak_password.reasons);throw new cw(xr(r),e.status||500,n)}const Iw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Sl]||(i[Sl]=fm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await $w(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function $w(e,t,r,n,s,i){const a=Iw(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new kl(xr(c),0)}if(l.ok||await Od(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Od(c)}}function et(e){var t;let r=null;Uw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rd(e){const t=et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Lw(e){return{data:e,error:null}}function Dw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Cn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ad(e){return e}function Uw(e){return e.access_token&&e.refresh_token&&e.expires_in}const mo=["global","local","others"];class zw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=gm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=mo[0]){if(mo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Cn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Dw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ad});if(h.error)throw h.error;const p=await h.json(),d=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fr(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fr(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fr(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fr(t.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ad});if(h.error)throw h.error;const p=await h.json(),d=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Id(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Br={debug:!!(globalThis&&mm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ym extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mw extends ym{}async function Fw(e,t,r){Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Mw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Bw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ww(e){return parseInt(e,16)}function Vw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function qw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:h,uri:p,version:d}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=vm(e.address),v=h?`${h}://${n}`:n,w=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${y}

${w}`;let g=`URI: ${p}
Version: ${d}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let f=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);f+=`
- ${m}`}g+=f}return`${x}
${g}`}class oe extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class oa extends oe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Hw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(xm(a)){if(i.rp.id!==a)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Kw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(xm(n)){if(r.rpId!==n)return new oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Gw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Jw=new Gw;function Qw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Cn(e,["challenge","user","excludeCredentials"]),i=hn(t).buffer,a=Object.assign(Object.assign({},r),{id:hn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:hn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Yw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Cn(e,["challenge","allowCredentials"]),s=hn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:hn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Xw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:kr(new Uint8Array(e.response.attestationObject)),clientDataJSON:kr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:kr(new Uint8Array(s.authenticatorData)),clientDataJSON:kr(new Uint8Array(s.clientDataJSON)),signature:kr(new Uint8Array(s.signature)),userHandle:s.userHandle?kr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $d(){var e,t;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function e1(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oa("Browser returned unexpected credential type",t)}:{data:null,error:new oa("Empty credential response",t)}}catch(t){return{data:null,error:Hw({error:t,options:e})}}}async function t1(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oa("Browser returned unexpected credential type",t)}:{data:null,error:new oa("Empty credential response",t)}}catch(t){return{data:null,error:Kw({error:t,options:e})}}}const r1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},n1={userVerification:"preferred",hints:["security-key"]};function la(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=la(l,a):n[i]=la(a)}else n[i]=a}return n}function s1(e,t){return la(r1,e,t||{})}function i1(e,t){return la(n1,e,t||{})}class a1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??Jw.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=s1(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:p}=await e1({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const u=i1(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:p}=await t1(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new jr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new Es("rpId is required for WebAuthn authentication")};try{if(!$d())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new jr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new Es("rpId is required for WebAuthn registration")};try{if(!$d())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new jr("Unexpected error in register",a)}}}}Bw();const o1={url:sw,storageKey:iw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ld(e,t,r){return await r()}const Wr={};class Cs{get jwks(){var t,r;return(r=(t=Wr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cs.nextInstanceID,Cs.nextInstanceID+=1,this.instanceID>0&&Ie()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},o1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gm(s.fetch),this.lock=s.lock||Ld,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ie()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fw:this.lock=Ld,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new a1(this)},this.persistSession?(s.storage?this.storage=s.storage:mm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Id(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Id(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ww(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ie()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hw(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new jr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:h,password:p,options:d}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Mr(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:p,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:y,code_challenge_method:v},xform:et})}else if("phone"in t){const{phone:h,password:p,options:d}=t;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:et})}else throw new gi("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rd})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rd})}else throw new gi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,h,p,d;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:g,options:f}=t;let m;if(Ie())if(typeof x=="object")m=x;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")m=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=x}const _=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),S=await m.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=vm(S[0]);let j=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const O=await m.request({method:"eth_chainId"});j=Ww(O)}const E={domain:_.host,address:k,statement:g,uri:_.href,version:"1",chainId:j,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=f==null?void 0:f.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=qw(E),v=await m.request({method:"personal_sign",params:[Vw(y),k]})}try{const{data:w,error:x}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:et});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new zr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(I(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,h,p,d,y;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:x,wallet:g,statement:f,options:m}=t;let _;if(Ie())if(typeof g=="object")_=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((p=(h=m==null?void 0:m.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...m.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:kr(w)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:et});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new zr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(I(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:et});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:et}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Mr(this.storage,this.storageKey));const{error:p}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new gi("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Mr(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Lw})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Dt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new gi("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await gr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=po()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wt})})}catch(r){if(I(r))return dw(r)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Dt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mr(this.storage,this.storageKey));const{data:u,error:h}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Wt});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=fo(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ie())throw new yi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kd("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new yi("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(l);let d=h+p;c&&(d=parseInt(c));const y=d-h;y*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const v=d-p;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,h);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:d,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(uw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=xw(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Mr(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,h;const{data:p,error:d}=i;if(d)throw d;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ie()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:h}=t,p=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:et}),{data:d,error:y}=p;return y?{data:{user:null,session:null},error:y}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new zr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:y})}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bw(async s=>(s>0&&await _w(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:et})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ho(i)&&Date.now()+a-n<qr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ie()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await gr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Hr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:po()}else if(s&&!s.user&&!s.user){const a=await gr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Lt(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,s)):s.user=po()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ho(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ta;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const a={data:null,error:i};return ho(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Pd(s);await Hr(this.storage,this.storageKey,i)}else{const s=Pd(r);await Hr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qr}ms, refresh threshold is ${bl} ticks`),s<=bl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ym)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Mr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Xw(t.webauthn.credential_response):Zw(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const a=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Qw(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Yw(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=fo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+lw>s)return n;const{data:i,error:a}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=fo(n);r!=null&&r.allowExpired||Pw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const h=Ow(s.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,a,yw(`${l}.${c}`)))throw new Nl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}Cs.nextInstanceID=0;const l1=Cs;class c1 extends l1{constructor(t){super(t)}}class u1{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=nw(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Jx,realtime:Yx,auth:Object.assign(Object.assign({},Qx),{storageKey:c}),global:Gx},h=rw(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=ew(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new sx(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new qx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Qv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},h,p){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c1({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new jx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d1=(e,t,r)=>new u1(e,t,r);function h1(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}h1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f1="https://your-project-id.supabase.co",p1="your-anon-key-here",$=d1(f1,p1),wm=b.createContext(),xt=()=>{const e=b.useContext(wm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},m1=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(null),[i,a]=b.useState(!0),l=async(v,w)=>{try{const{data:x,error:g}=await $.auth.signInWithPassword({email:v,password:w});if(g)throw g;return x.user&&await $.from("users").update({last_login:new Date().toISOString()}).eq("id",x.user.id),B.success("Successfully logged in!"),x}catch(x){throw B.error(x.message||"Failed to login"),x}},c=async(v,w,x)=>{var g,f;try{const{data:m,error:_}=await $.auth.signUp({email:v,password:w,options:{data:{name:x.name||"",role:x.role||"farmer"}}});if(_)throw _;if(m.user){const S={id:m.user.id,email:v,name:x.name||"",phone:x.phone,role:x.role||"farmer",farm_location:(g=x.farmDetails)==null?void 0:g.location,crop_type:(f=x.farmDetails)==null?void 0:f.cropType,created_at:new Date().toISOString()},{error:k}=await $.from("users").insert([S]);if(k)throw k}return B.success("Account created successfully!"),m}catch(m){throw B.error(m.message||"Failed to create account"),m}},u=async()=>{try{const{error:v}=await $.auth.signOut();if(v)throw v;s(null),B.success("Successfully logged out!")}catch(v){throw B.error(v.message||"Failed to logout"),v}},h=async v=>{try{const{error:w}=await $.auth.resetPasswordForEmail(v);if(w)throw w;B.success("Password reset email sent!")}catch(w){throw B.error(w.message||"Failed to send reset email"),w}},p=async v=>{if(!t)throw new Error("No user logged in");try{const{error:w}=await $.from("users").update({...v,updated_at:new Date().toISOString()}).eq("id",t.id);if(w)throw w;n&&s({...n,...v}),B.success("Profile updated successfully!")}catch(w){throw B.error(w.message||"Failed to update profile"),w}},d=async v=>{try{const{data:w,error:x}=await $.from("users").select("*").eq("id",v).single();if(x)throw x;return w}catch(w){return console.error("Error fetching user profile:",w),null}};b.useEffect(()=>{$.auth.getSession().then(({data:{session:w}})=>{r((w==null?void 0:w.user)??null),w!=null&&w.user&&d(w.user.id).then(s),a(!1)});const{data:{subscription:v}}=$.auth.onAuthStateChange(async(w,x)=>{if(r((x==null?void 0:x.user)??null),x!=null&&x.user){const g=await d(x.user.id);s(g)}else s(null);a(!1)});return()=>v.unsubscribe()},[]);const y={currentUser:t,userProfile:n,loading:i,login:l,register:c,logout:u,resetPassword:h,updateUserProfile:p};return o.jsx(wm.Provider,{value:y,children:!i&&e})};function jm(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=jm(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function g1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=jm(e))&&(n&&(n+=" "),n+=t);return n}function Rn(...e){return g1(e)}const A=({className:e,variant:t="primary",size:r="md",loading:n=!1,disabled:s,children:i,...a})=>{const l="btn inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",c={primary:"bg-primary-500 text-white hover:bg-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600",outline:"border border-gray-300 bg-transparent hover:bg-gray-50",ghost:"hover:bg-gray-100"},u={sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"};return o.jsxs("button",{className:Rn(l,c[t],u[r],e),disabled:s||n,...a,children:[n&&o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>b.createElement("svg",{ref:h,...y1,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${v1(e)}`,l].join(" "),...u},[...t.map(([p,d])=>b.createElement(p,d)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=M("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=M("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=M("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=M("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=M("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=M("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=M("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=M("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=M("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=M("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E1=()=>{const{currentUser:e,userProfile:t,logout:r}=xt(),n=En(),[s,i]=b.useState(!1),a=async()=>{try{await r(),n("/login")}catch(c){console.error("Logout error:",c)}},l=e?(t==null?void 0:t.role)==="admin"?[{name:"Dashboard",path:"/admin",icon:Dd},{name:"Schemes",path:"/schemes",icon:sr},{name:"Contacts",path:"/contacts",icon:at},{name:"Treatments",path:"/treatments",icon:Rl}]:[{name:"Dashboard",path:"/dashboard",icon:Dd},{name:"Upload",path:"/dashboard",icon:Ps},{name:"Schemes",path:"/schemes",icon:sr},{name:"Contacts",path:"/contacts",icon:at},{name:"Materials",path:"/support",icon:Ts}]:[];return o.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(ft,{to:"/",className:"flex items-center space-x-2",children:[o.jsx(Oa,{className:"h-8 w-8 text-primary-500"}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"FarmTech"})]})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[l.map(c=>{const u=c.icon;return o.jsxs(ft,{to:c.path,className:"flex items-center space-x-1 text-gray-600 hover:text-primary-500 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:[o.jsx(u,{className:"h-4 w-4"}),o.jsx("span",{children:c.name})]},c.name)}),e?o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",(t==null?void 0:t.name)||e.email]}),o.jsxs(A,{variant:"outline",size:"sm",onClick:a,className:"flex items-center space-x-1",children:[o.jsx(Ud,{className:"h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]}):o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ft,{to:"/login",children:o.jsx(A,{variant:"outline",size:"sm",children:"Login"})}),o.jsx(ft,{to:"/register",children:o.jsx(A,{size:"sm",children:"Register"})})]})]}),o.jsx("div",{className:"md:hidden flex items-center",children:o.jsx("button",{onClick:()=>i(!s),className:"text-gray-600 hover:text-gray-900 focus:outline-none focus:text-gray-900",children:s?o.jsx(Ir,{className:"h-6 w-6"}):o.jsx(_1,{className:"h-6 w-6"})})})]}),s&&o.jsx("div",{className:"md:hidden",children:o.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 rounded-lg mt-2",children:[l.map(c=>{const u=c.icon;return o.jsxs(ft,{to:c.path,className:"flex items-center space-x-2 text-gray-600 hover:text-primary-500 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>i(!1),children:[o.jsx(u,{className:"h-4 w-4"}),o.jsx("span",{children:c.name})]},c.name)}),e?o.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[o.jsx("div",{className:"px-3 mb-3",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",(t==null?void 0:t.name)||e.email]})}),o.jsxs(A,{variant:"outline",size:"sm",onClick:a,className:"mx-3 flex items-center space-x-1",children:[o.jsx(Ud,{className:"h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]}):o.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3 space-y-2",children:[o.jsx(ft,{to:"/login",onClick:()=>i(!1),children:o.jsx(A,{variant:"outline",size:"sm",className:"mx-3 w-full",children:"Login"})}),o.jsx(ft,{to:"/register",onClick:()=>i(!1),children:o.jsx(A,{size:"sm",className:"mx-3 w-full",children:"Register"})})]})]})})]})})},Q=({className:e,label:t,error:r,id:n,...s})=>{const i=n||(t==null?void 0:t.toLowerCase().replace(/\s+/g,"-"));return o.jsxs("div",{className:"space-y-2",children:[t&&o.jsx("label",{htmlFor:i,className:"text-sm font-medium text-gray-700",children:t}),o.jsx("input",{id:i,className:Rn("input flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"border-red-500 focus-visible:ring-red-500",e),...s}),r&&o.jsx("p",{className:"text-sm text-red-600",children:r})]})},U=({className:e,children:t,...r})=>o.jsx("div",{className:Rn("card rounded-lg border bg-white text-gray-900 shadow-sm p-6",e),...r,children:t}),Me=({className:e,children:t,...r})=>o.jsx("div",{className:Rn("flex flex-col space-y-1.5 pb-6",e),...r,children:t}),Fe=({className:e,children:t,...r})=>o.jsx("h3",{className:Rn("text-2xl font-semibold leading-none tracking-tight",e),...r,children:t}),z=({className:e,children:t,...r})=>o.jsx("div",{className:Rn("pt-0",e),...r,children:t}),C1=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState({}),{login:h}=xt(),p=En(),d=()=>{const v={};return e?/\S+@\S+\.\S+/.test(e)||(v.email="Email is invalid"):v.email="Email is required",r?r.length<6&&(v.password="Password must be at least 6 characters"):v.password="Password is required",u(v),Object.keys(v).length===0},y=async v=>{if(v.preventDefault(),!!d()){l(!0);try{await h(e,r),p("/dashboard")}catch(w){console.error("Login error:",w)}finally{l(!1)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Oa,{className:"h-12 w-12 text-primary-500"})}),o.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Welcome to FarmTech"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to your account to continue"})]}),o.jsxs(U,{children:[o.jsx(Me,{children:o.jsx(Fe,{className:"text-center",children:"Sign In"})}),o.jsxs(z,{children:[o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Email Address",type:"email",value:e,onChange:v=>t(v.target.value),error:c.email,placeholder:"Enter your email",className:"pl-10"}),o.jsx(An,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Password",type:s?"text":"password",value:r,onChange:v=>n(v.target.value),error:c.password,placeholder:"Enter your password",className:"pl-10 pr-10"}),o.jsx(Tl,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600 focus:outline-none",children:s?o.jsx(El,{className:"h-4 w-4"}):o.jsx(Cl,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),o.jsx("div",{className:"text-sm",children:o.jsx(ft,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),o.jsx(A,{type:"submit",loading:a,className:"w-full",size:"lg",children:"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Don't have an account?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ft,{to:"/register",children:o.jsx(A,{variant:"outline",className:"w-full",children:"Create New Account"})})})]})]})]}),o.jsx(U,{className:"bg-blue-50 border-blue-200",children:o.jsxs(z,{className:"pt-6",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-3",children:"Demo Accounts"}),o.jsxs("div",{className:"space-y-3 text-xs text-blue-800",children:[o.jsxs("div",{className:"p-2 bg-blue-100 rounded",children:[o.jsx("div",{children:o.jsx("strong",{children:" Farmer Account:"})}),o.jsxs("div",{children:["Email: ","farmer@farmtech.com"]}),o.jsxs("div",{children:["Password: ","farmer123456"]})]}),o.jsxs("div",{className:"p-2 bg-blue-100 rounded",children:[o.jsx("div",{children:o.jsx("strong",{children:" Admin Account:"})}),o.jsxs("div",{children:["Email: ","admin@farmtech.com"]}),o.jsxs("div",{children:["Password: ","admin123456"]})]})]})]})})]})})},T1=()=>{const[e,t]=b.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",role:"farmer",adminCode:"",farmDetails:{location:"",cropType:[],farmSize:"",soilType:"",customCropDescription:""}}),[r,n]=b.useState(!1),[s,i]=b.useState({}),[a,l]=b.useState(!1),[c,u]=b.useState(!1),{register:h}=xt(),p=En(),d=["Rice","Wheat","Corn","Sugarcane","Cotton","Soybean","Tomato","Potato","Onion","Cabbage","Carrot","Other"],y=g=>{const{name:f,value:m}=g.target;if(f.startsWith("farm.")){const _=f.split(".")[1];t(S=>({...S,farmDetails:{...S.farmDetails,[_]:m}}))}else t(_=>({..._,[f]:m}))},v=g=>{t(f=>({...f,farmDetails:{...f.farmDetails,cropType:f.farmDetails.cropType.includes(g)?f.farmDetails.cropType.filter(m=>m!==g):[...f.farmDetails.cropType,g]}}))},w=()=>{const g={};return e.name.trim()||(g.name="Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(g.email="Email is invalid"):g.email="Email is required",e.password?e.password.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",e.password!==e.confirmPassword&&(g.confirmPassword="Passwords do not match"),e.role==="admin"&&e.adminCode!=="admin123"&&(g.adminCode="Invalid admin code"),e.role==="farmer"&&(e.farmDetails.location.trim()||(g.location="Farm location is required"),e.farmDetails.cropType.length===0&&(g.cropType="Please select at least one crop type")),i(g),Object.keys(g).length===0},x=async g=>{if(g.preventDefault(),!!w()){n(!0);try{const f={name:e.name,phone:e.phone,role:e.role,...e.role==="farmer"&&{farmDetails:e.farmDetails}};await h(e.email,e.password,f),p("/dashboard")}catch(f){console.error("Registration error:",f)}finally{n(!1)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-2xl w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Oa,{className:"h-12 w-12 text-primary-500"})}),o.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Join FarmTech"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create your account to get started"})]}),o.jsxs(U,{children:[o.jsx(Me,{children:o.jsx(Fe,{className:"text-center",children:"Create Account"})}),o.jsxs(z,{children:[o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Account Type"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{type:"button",onClick:()=>t(g=>({...g,role:"farmer"})),className:`p-4 border-2 rounded-lg text-center transition-colors ${e.role==="farmer"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(Cr,{className:"h-6 w-6 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"Farmer"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Upload crops, get advice"})]}),o.jsxs("button",{type:"button",onClick:()=>t(g=>({...g,role:"admin"})),className:`p-4 border-2 rounded-lg text-center transition-colors ${e.role==="admin"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(Cr,{className:"h-6 w-6 mx-auto mb-2"}),o.jsx("div",{className:"font-medium",children:"Admin"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Manage content"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Full Name",name:"name",value:e.name,onChange:y,error:s.name,placeholder:"Enter your full name",className:"pl-10"}),o.jsx(Cr,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Phone Number",name:"phone",value:e.phone,onChange:y,placeholder:"Enter your phone number",className:"pl-10"}),o.jsx(Fs,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Email Address",type:"email",name:"email",value:e.email,onChange:y,error:s.email,placeholder:"Enter your email",className:"pl-10"}),o.jsx(An,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Password",type:a?"text":"password",name:"password",value:e.password,onChange:y,error:s.password,placeholder:"Create a password",className:"pl-10 pr-10"}),o.jsx(Tl,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600 focus:outline-none",children:a?o.jsx(El,{className:"h-4 w-4"}):o.jsx(Cl,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Confirm Password",type:c?"text":"password",name:"confirmPassword",value:e.confirmPassword,onChange:y,error:s.confirmPassword,placeholder:"Confirm your password",className:"pl-10 pr-10"}),o.jsx(Tl,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600 focus:outline-none",children:c?o.jsx(El,{className:"h-4 w-4"}):o.jsx(Cl,{className:"h-4 w-4"})})]})]}),e.role==="admin"&&o.jsx("div",{children:o.jsx(Q,{label:"Admin Code",name:"adminCode",value:e.adminCode,onChange:y,error:s.adminCode,placeholder:"Enter admin access code"})}),e.role==="farmer"&&o.jsxs("div",{className:"space-y-6 border-t pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Farm Details"}),o.jsxs("div",{className:"relative",children:[o.jsx(Q,{label:"Farm Location",name:"farm.location",value:e.farmDetails.location,onChange:y,error:s.location,placeholder:"Enter your farm location",className:"pl-10"}),o.jsx(Ms,{className:"absolute left-3 top-9 h-4 w-4 text-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Crop Types (Select all that apply)"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:d.map(g=>o.jsx("button",{type:"button",onClick:()=>v(g),className:`p-2 text-sm border rounded-md transition-colors ${e.farmDetails.cropType.includes(g)?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:g},g))}),s.cropType&&o.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.cropType})]}),e.farmDetails.cropType.includes("Other")&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Describe your other crops"}),o.jsx("textarea",{name:"farm.customCropDescription",value:e.farmDetails.customCropDescription,onChange:y,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Please describe the other crops you grow..."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(Q,{label:"Farm Size (acres)",name:"farm.farmSize",type:"number",value:e.farmDetails.farmSize,onChange:y,placeholder:"Enter farm size"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Soil Type"}),o.jsxs("select",{name:"farm.soilType",value:e.farmDetails.soilType,onChange:y,className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Select soil type"}),o.jsx("option",{value:"clay",children:"Clay"}),o.jsx("option",{value:"sandy",children:"Sandy"}),o.jsx("option",{value:"loamy",children:"Loamy"}),o.jsx("option",{value:"silty",children:"Silty"}),o.jsx("option",{value:"peaty",children:"Peaty"}),o.jsx("option",{value:"chalky",children:"Chalky"})]})]})]})]}),o.jsx(A,{type:"submit",loading:r,className:"w-full",size:"lg",children:"Create Account"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ft,{to:"/login",children:o.jsx(A,{variant:"outline",className:"w-full",children:"Sign In Instead"})})})]})]})]})]})})},P1=({isOpen:e,onClose:t})=>{const{userProfile:r}=xt(),[n,s]=b.useState(null),[i,a]=b.useState(null),[l,c]=b.useState({description:"",cropType:"",location:(r==null?void 0:r.farm_location)||""}),[u,h]=b.useState(!1),[p,d]=b.useState(0),y=b.useRef(null),v=S=>new Promise(k=>{const j=document.createElement("canvas"),E=j.getContext("2d"),O=new Image;O.onload=()=>{let{width:R,height:X}=O;const Ye=1920,Ee=1080;if(R>Ye||X>Ee){const Xe=Math.min(Ye/R,Ee/X);R*=Xe,X*=Xe}j.width=R,j.height=X,E.drawImage(O,0,0,R,X),j.toBlob(Xe=>{const hr=new File([Xe],S.name,{type:"image/jpeg",lastModified:Date.now()});k(hr)},"image/jpeg",.8)},O.src=URL.createObjectURL(S)}),w=["Rice","Wheat","Corn","Sugarcane","Cotton","Soybean","Tomato","Potato","Onion","Cabbage","Carrot","Other"],x=S=>{const k=S.target.files[0];if(k){if(!k.type.startsWith("image/")){B.error("Please select an image file");return}if(k.size>10*1024*1024){B.error("File size must be less than 10MB");return}s(k);const j=new FileReader;j.onload=E=>a(E.target.result),j.readAsDataURL(k)}},g=S=>{S.preventDefault();const k=S.dataTransfer.files[0];k&&x({target:{files:[k]}})},f=S=>{S.preventDefault()},m=S=>{const{name:k,value:j}=S.target;c(E=>({...E,[k]:j}))},_=async S=>{var k,j,E;if(S.preventDefault(),!n){B.error("Please select an image");return}if(!l.description.trim()){B.error("Please provide a description");return}if(!l.cropType){B.error("Please select a crop type");return}h(!0);try{if(!(r!=null&&r.id))throw new Error("User profile not found. Please log in again.");let O=n;n.size>2*1024*1024&&(O=await v(n));const R=`${Date.now()}_${O.name}`,X=`user_${r.id}/${R}`;d(50);const{data:Ye,error:Ee}=await $.storage.from("uploads").upload(X,O);if(Ee)throw Ee;const{data:{publicUrl:Xe}}=$.storage.from("uploads").getPublicUrl(X);d(75);const hr={user_id:r.id,image_url:Xe,description:l.description.trim(),crop_type:l.cropType,location:l.location.trim(),status:"pending",created_at:new Date().toISOString(),metadata:{fileSize:O.size,fileName:O.name,contentType:O.type,originalSize:n.size}},{error:It}=await $.from("uploads").insert([hr]);if(It)throw It;d(100),B.success("Image uploaded successfully!"),t(),s(null),a(null),d(0),c({description:"",cropType:"",location:(r==null?void 0:r.farm_location)||""})}catch(O){console.error("Upload error:",O),(k=O.message)!=null&&k.includes("storage")?B.error("Upload failed: Storage error. Please try again."):(j=O.message)!=null&&j.includes("network")?B.error("Network error. Please check your connection and try again."):(E=O.message)!=null&&E.includes("unauthorized")?B.error("Upload failed: Please check your permissions and try again."):B.error("Failed to upload image. Please try again.")}finally{h(!1),d(0)}};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upload Crop Photo"}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Ir,{className:"h-6 w-6"})})]}),o.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Crop Image"}),n?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:i,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border"}),o.jsx("button",{type:"button",onClick:()=>{s(null),a(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:o.jsx(Ir,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(j1,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:n.name}),o.jsxs("span",{className:"ml-2",children:["(",(n.size/1024/1024).toFixed(2)," MB)"]})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-400 transition-colors cursor-pointer",onDrop:g,onDragOver:f,onClick:()=>{var S;return(S=y.current)==null?void 0:S.click()},children:[o.jsx(Oi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your image here, or click to browse"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Supports: JPG, PNG, GIF (Max 10MB)"}),o.jsxs(A,{type:"button",variant:"outline",className:"mt-4",children:[o.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Choose File"]})]}),o.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:x,className:"hidden"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Crop Type"}),o.jsxs("select",{name:"cropType",value:l.cropType,onChange:m,className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[o.jsx("option",{value:"",children:"Select crop type"}),w.map(S=>o.jsx("option",{value:S,children:S},S))]})]}),o.jsx(Q,{label:"Location",name:"location",value:l.location,onChange:m,placeholder:"Farm location (optional)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:l.description,onChange:m,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Describe the issue or what you'd like advice on...",required:!0})]}),u&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Uploading..."}),o.jsxs("span",{children:[p,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[o.jsx(A,{type:"button",variant:"outline",onClick:t,disabled:u,children:"Cancel"}),o.jsx(A,{type:"submit",loading:u,disabled:!n||u,children:u?`Uploading... ${p}%`:"Upload Photo"})]})]})]})}):null},O1=()=>{var y;const{userProfile:e}=xt(),t=En(),[r,n]=b.useState(!1),[s,i]=b.useState(!1),[a,l]=b.useState([]),[c,u]=b.useState({totalUploads:0,pendingReviews:0,reviewedUploads:0});b.useEffect(()=>{if(!(e!=null&&e.id))return;const v=async()=>{try{const{data:x,error:g}=await $.from("uploads").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(g)throw g;l(x||[]);const f=(x==null?void 0:x.length)||0,m=(x==null?void 0:x.filter(S=>S.status==="pending").length)||0,_=(x==null?void 0:x.filter(S=>S.status==="reviewed").length)||0;u({totalUploads:f,pendingReviews:m,reviewedUploads:_})}catch(x){console.error("Error fetching uploads:",x)}};v();const w=$.channel("uploads_changes").on("postgres_changes",{event:"*",schema:"public",table:"uploads",filter:`user_id=eq.${e.id}`},()=>{v()}).subscribe();return()=>{w.unsubscribe()}},[e==null?void 0:e.id]);const h=v=>{switch(v){case"pending":return o.jsx(Et,{className:"h-4 w-4 text-yellow-500"});case"reviewed":return o.jsx(vt,{className:"h-4 w-4 text-green-500"});case"rejected":return o.jsx(zd,{className:"h-4 w-4 text-red-500"});default:return o.jsx(Et,{className:"h-4 w-4 text-gray-500"})}},p=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800";case"reviewed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",e==null?void 0:e.name,"!"]}),o.jsx("p",{className:"text-primary-100 mt-1",children:"Manage your crops and get expert advice"}),(e==null?void 0:e.farmDetails)&&o.jsxs("div",{className:"mt-3 text-sm text-primary-100",children:[o.jsxs("p",{children:[" ",e.farmDetails.location]}),o.jsxs("p",{children:[" ",(y=e.farmDetails.cropType)==null?void 0:y.join(", ")]})]})]}),o.jsx(Oa,{className:"h-16 w-16 text-primary-200"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg",children:o.jsx(Ps,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Uploads"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalUploads})]})]})}),o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-lg",children:o.jsx(Et,{className:"h-6 w-6 text-yellow-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.pendingReviews})]})]})}),o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg",children:o.jsx(vt,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reviewed"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.reviewedUploads})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n(!0),children:o.jsxs(z,{className:"flex flex-col items-center p-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-4",children:o.jsx(Oi,{className:"h-8 w-8 text-primary-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Crop Photo"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Get expert advice on your crops by uploading photos"}),o.jsx(A,{className:"w-full",children:"Upload Now"})]})}),o.jsx(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t("/schemes"),children:o.jsxs(z,{className:"flex flex-col items-center p-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-secondary-100 rounded-full mb-4",children:o.jsx(sr,{className:"h-8 w-8 text-secondary-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Browse Schemes"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Explore government schemes and subsidies"}),o.jsx(A,{variant:"secondary",className:"w-full",onClick:v=>{v.stopPropagation(),t("/schemes")},children:"View Schemes"})]})}),o.jsx(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t("/contacts"),children:o.jsxs(z,{className:"flex flex-col items-center p-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-accent-100 rounded-full mb-4",children:o.jsx(at,{className:"h-8 w-8 text-accent-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Experts"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with agricultural specialists"}),o.jsx(A,{variant:"outline",className:"w-full",onClick:v=>{v.stopPropagation(),t("/contacts")},children:"Find Experts"})]})})]}),o.jsx(U,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:o.jsx(z,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mr-4",children:o.jsx(Ts,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Need Agricultural Materials Guidance?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Get expert recommendations for pesticides, fertilizers, and other agricultural materials"})]})]}),o.jsx(A,{onClick:()=>t("/support"),className:"bg-blue-600 hover:bg-blue-700",children:"Get Materials Help"})]})})}),o.jsxs(U,{children:[o.jsx(Me,{children:o.jsxs(Fe,{className:"flex items-center",children:[o.jsx(Sm,{className:"h-5 w-5 mr-2"}),"Recent Uploads"]})}),o.jsx(z,{children:a.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Oi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uploads yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start by uploading your first crop photo to get expert advice"}),o.jsx(A,{onClick:()=>n(!0),children:"Upload Your First Photo"})]}):o.jsxs("div",{className:"space-y-4",children:[a.slice(0,5).map(v=>o.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50",children:[o.jsx("img",{src:v.image_url,alt:v.description,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:v.description}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Crop: ",v.crop_type]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",d(v.created_at)]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[h(v.status),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]})]},v.id)),a.length>5&&o.jsx("div",{className:"text-center pt-4",children:o.jsxs(A,{variant:"outline",onClick:()=>i(!0),children:["View All Uploads (",a.length,")"]})})]})})]}),r&&o.jsx(P1,{isOpen:r,onClose:()=>n(!1)}),s&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"All Your Uploads"}),o.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(zd,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"space-y-4",children:a.map(v=>o.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50",children:[o.jsx("img",{src:v.image_url,alt:v.description,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:v.description}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Crop: ",v.crop_type]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",d(v.created_at)]}),v.location&&o.jsxs("p",{className:"text-xs text-gray-500",children:["Location: ",v.location]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[h(v.status),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(v.status)}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]})]},v.id))}),a.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Oi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uploads yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start by uploading your first crop photo to get expert advice"}),o.jsx(A,{onClick:()=>{i(!1),n(!0)},children:"Upload Your First Photo"})]})]})]})})]})},Md=[{title:"PM-KISAN Samman Nidhi",description:"Direct income support scheme for farmers providing 6000 per year in three equal installments.",eligibility:"Small and marginal farmers with cultivable land up to 2 hectares",documents:[{name:"Aadhaar Card",description:"Valid Aadhaar card of the farmer"},{name:"Bank Account Details",description:"Bank passbook or cancelled cheque"},{name:"Land Records",description:"Khata/Khatauni/Land ownership documents"}],government_link:"https://pmkisan.gov.in/",created_at:new Date().toISOString()},{title:"Pradhan Mantri Fasal Bima Yojana",description:"Crop insurance scheme providing financial support to farmers in case of crop loss due to natural calamities.",eligibility:"All farmers growing notified crops in notified areas",documents:[{name:"Aadhaar Card",description:"Identity proof"},{name:"Bank Account Details",description:"For premium deduction and claim settlement"},{name:"Land Records",description:"Proof of land ownership or tenancy"}],government_link:"https://pmfby.gov.in/",created_at:new Date().toISOString()},{title:"Kisan Credit Card (KCC)",description:"Credit facility for farmers to meet their agricultural and allied activities requirements.",eligibility:"All farmers - individual/joint borrowers who are owner cultivators",documents:[{name:"Application Form",description:"Duly filled KCC application form"},{name:"Identity Proof",description:"Aadhaar card, Voter ID, or Passport"},{name:"Land Documents",description:"Land ownership or tenancy proof"}],government_link:"https://www.nabard.org/content1.aspx?id=570",created_at:new Date().toISOString()}],R1=[{name:"Dr. Rajesh Kumar",specialization:"Crop Diseases",crop_type:"Rice",contact_info:"+91-9876543210, dr.rajesh@agri.gov.in",region:"North"},{name:"Dr. Priya Sharma",specialization:"Soil Management",crop_type:"Tomato",contact_info:"+91-9876543211, priya.sharma@agri.edu",region:"West"},{name:"Dr. Amit Singh",specialization:"Pest Control",crop_type:"Cotton",contact_info:"+91-9876543212, amit.singh@icar.gov.in",region:"Central"},{name:"Dr. Sunita Patel",specialization:"Organic Farming",crop_type:"Wheat",contact_info:"+91-9876543213, sunita.organic@gmail.com",region:"West"},{name:"Dr. K. Venkatesh",specialization:"Rice Cultivation",crop_type:"Rice",contact_info:"+91-9876543214, k.venkatesh@tnau.ac.in",region:"South"}],A1=[{name:"Chlorpyrifos 20% EC",crop_type:"Rice",description:"Effective insecticide for controlling stem borer, leaf folder, and brown plant hopper in rice crops.",recommended_usage:"2-2.5 ml/liter water. Apply during early morning or evening. Maximum 2 applications per season.",price_range:"150-200 per 100ml bottle"},{name:"NPK 19:19:19",crop_type:"Wheat",description:"Balanced fertilizer containing equal proportions of Nitrogen, Phosphorus, and Potassium for healthy crop growth.",recommended_usage:"25-50 kg/acre. Apply in 2-3 split doses during crop season. Mix with soil properly.",price_range:"800-1200 per 50kg bag"},{name:"Neem Oil",crop_type:"Tomato",description:"Organic pesticide effective against aphids, whiteflies, and caterpillars. Safe for beneficial insects.",recommended_usage:"3-5 ml/liter water. Apply weekly during pest season. Spray during evening hours.",price_range:"80-120 per 100ml bottle"},{name:"Mancozeb 75% WP",crop_type:"Potato",description:"Broad-spectrum fungicide for controlling late blight, early blight, and other fungal diseases.",recommended_usage:"2-2.5 gm/liter water. Apply every 10-15 days during disease season. Maintain 7 days pre-harvest interval.",price_range:"200-300 per 250gm pack"}],Fd=[{email:"farmer@farmtech.com",password:"farmer123456",userData:{name:"John Farmer",phone:"+91-9876543210",role:"farmer",farm_location:"Punjab, India",crop_type:"Rice"}},{email:"admin@farmtech.com",password:"admin123456",userData:{name:"Admin User",phone:"+91-9876543211",role:"admin"}}],I1=async()=>{var e,t;try{console.log("Seeding Supabase database with sample data...");let r=null;for(const l of Fd)try{const{data:c,error:u}=await $.auth.signUp({email:l.email,password:l.password,options:{data:{name:l.userData.name,role:l.userData.role}}});if(u&&u.message!=="User already registered")throw u;if(c.user){const h=c.user.id;l.userData.role==="farmer"&&(r=h);const{error:p}=await $.from("users").upsert([{id:h,email:l.email,...l.userData,created_at:new Date().toISOString()}]);if(p)throw p;console.log(` Demo ${l.userData.role} user created: ${l.email}`)}}catch(c){(e=c.message)!=null&&e.includes("already registered")||(t=c.message)!=null&&t.includes("already exists")?console.log(` Demo user ${l.email} already exists`):console.error(` Error creating demo user ${l.email}:`,c)}if(r){const l=[{user_id:r,image_url:"https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=400",description:"My wheat crop is showing yellow spots on leaves. Need expert advice.",crop_type:"Wheat",status:"reviewed",admin_feedback:"This appears to be wheat rust. Apply fungicide immediately and ensure proper drainage.",created_at:new Date(Date.now()-1728e5).toISOString()},{user_id:r,image_url:"https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400",description:"Rice plants are not growing properly. Leaves turning brown.",crop_type:"Rice",status:"pending",created_at:new Date(Date.now()-864e5).toISOString()}],{error:c}=await $.from("uploads").upsert(l);if(c)throw c;console.log(" Sample uploads added successfully")}const{error:n}=await $.from("schemes").upsert(Md);if(n)throw n;console.log(" Schemes added successfully");const{error:s}=await $.from("contacts").upsert(R1);if(s)throw s;console.log(" Contacts added successfully");const{error:i}=await $.from("pesticides").upsert(A1);if(i)throw i;console.log(" Pesticides added successfully");const{error:a}=await $.from("stats").upsert([{id:"00000000-0000-0000-0000-000000000001",total_users:Fd.length,total_uploads:2,total_schemes:Md.length,last_updated:new Date().toISOString()}]);if(a)throw a;return console.log(" Stats updated successfully"),console.log(" Supabase database seeded successfully with demo data!"),!0}catch(r){return console.error(" Error seeding Supabase database:",r),!1}},$1=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!1),s=async()=>{t(!0);try{await I1()?(n(!0),B.success("Database seeded successfully!")):B.error("Failed to seed database")}catch(i){console.error("Seeding error:",i),B.error("Error seeding database")}finally{t(!1)}};return o.jsxs(U,{className:"max-w-md mx-auto",children:[o.jsx(Me,{children:o.jsxs(Fe,{className:"flex items-center",children:[o.jsx(w1,{className:"h-5 w-5 mr-2"}),"Database Setup"]})}),o.jsx(z,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Click the button below to populate the database with sample data including schemes, contacts, and treatments."}),r?o.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[o.jsx(vt,{className:"h-5 w-5 text-green-500 mr-2"}),o.jsx("span",{className:"text-green-800 text-sm",children:"Database has been seeded successfully!"})]}):o.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx(Bc,{className:"h-5 w-5 text-yellow-500 mr-2"}),o.jsx("span",{className:"text-yellow-800 text-sm",children:"Database needs to be seeded with sample data"})]}),o.jsx(A,{onClick:s,loading:e,disabled:r,className:"w-full",children:e?"Seeding Database...":r?"Database Seeded":"Seed Database"})]})})]})},L1=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!1),[s,i]=b.useState(null),[a,l]=b.useState({name:"",specialization:[],cropTypes:[],region:"",contactInfo:{phone:"",email:"",address:""},experience:"",qualifications:[],languages:[],availability:{days:[],hours:""},rating:0,isVerified:!0}),c=["Crop Diseases","Soil Management","Pest Control","Irrigation","Organic Farming","Livestock","Horticulture","Agronomy","Plant Pathology","Entomology","Weed Management","Seed Technology"],u=["Rice","Wheat","Corn","Sugarcane","Cotton","Soybean","Tomato","Potato","Onion","Cabbage","Carrot","Mango","Banana","Grapes","Citrus","Coconut","Tea","Coffee"],h=["North","South","East","West","Central","Northeast"],p=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];b.useEffect(()=>{const f=async()=>{try{const{data:_,error:S}=await $.from("contacts").select("*").order("name",{ascending:!0});if(S)throw S;t(_||[])}catch(_){console.error("Error fetching experts:",_)}};f();const m=$.channel("contacts_admin_changes").on("postgres_changes",{event:"*",schema:"public",table:"contacts"},f).subscribe();return()=>{m.unsubscribe()}},[]);const d=f=>{const{name:m,value:_}=f.target;if(m.startsWith("contact.")){const S=m.split(".")[1];l(k=>({...k,contactInfo:{...k.contactInfo,[S]:_}}))}else if(m.startsWith("availability.")){const S=m.split(".")[1];l(k=>({...k,availability:{...k.availability,[S]:_}}))}else l(S=>({...S,[m]:_}))},y=(f,m)=>{l(f==="availability.days"?_=>{var S;return{..._,availability:{..._.availability,days:(S=_.availability.days)!=null&&S.includes(m)?_.availability.days.filter(k=>k!==m):[..._.availability.days||[],m]}}}:_=>({..._,[f]:_[f].includes(m)?_[f].filter(S=>S!==m):[..._[f],m]}))},v=async f=>{f.preventDefault();try{const m={name:a.name,specialization:a.specialization.join(", "),crop_type:a.cropTypes.join(", "),region:a.region,contact_info:`${a.contactInfo.phone}, ${a.contactInfo.email}`,created_at:s?s.created_at:new Date().toISOString()};if(s){const{error:_}=await $.from("contacts").update(m).eq("id",s.id);if(_)throw _;B.success("Expert updated successfully!")}else{const{error:_}=await $.from("contacts").insert([m]);if(_)throw _;B.success("Expert added successfully!")}g()}catch(m){console.error("Error saving expert:",m),B.error("Failed to save expert")}},w=f=>{i(f),l(f),n(!0)},x=async f=>{if(window.confirm("Are you sure you want to delete this expert?"))try{const{error:m}=await $.from("contacts").delete().eq("id",f);if(m)throw m;B.success("Expert deleted successfully!")}catch(m){console.error("Error deleting expert:",m),B.error("Failed to delete expert")}},g=()=>{l({name:"",specialization:[],cropTypes:[],region:"",contactInfo:{phone:"",email:"",address:""},experience:"",qualifications:[],languages:[],availability:{days:[],hours:""},rating:0,isVerified:!0}),i(null),n(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agricultural Experts Management"}),o.jsxs(A,{onClick:()=>n(!0),children:[o.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Add Expert"]})]}),r&&o.jsxs(U,{children:[o.jsx(Me,{children:o.jsx(Fe,{children:s?"Edit Expert":"Add New Expert"})}),o.jsx(z,{children:o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Q,{label:"Full Name",name:"name",value:a.name,onChange:d,required:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Region"}),o.jsxs("select",{name:"region",value:a.region,onChange:d,className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Region"}),h.map(f=>o.jsx("option",{value:f,children:f},f))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Q,{label:"Experience (years)",name:"experience",type:"number",value:a.experience,onChange:d,required:!0}),o.jsx(Q,{label:"Rating (0-5)",name:"rating",type:"number",step:"0.1",min:"0",max:"5",value:a.rating,onChange:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Q,{label:"Phone",name:"contact.phone",value:a.contactInfo.phone,onChange:d,required:!0}),o.jsx(Q,{label:"Email",name:"contact.email",type:"email",value:a.contactInfo.email,onChange:d})]}),o.jsx(Q,{label:"Address",name:"contact.address",value:a.contactInfo.address,onChange:d})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Specializations (Select multiple)"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:c.map(f=>o.jsx("button",{type:"button",onClick:()=>y("specialization",f),className:`p-2 text-sm border rounded-md transition-colors ${a.specialization.includes(f)?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"}`,children:f},f))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Crop Types (Select multiple)"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:u.map(f=>o.jsx("button",{type:"button",onClick:()=>y("cropTypes",f),className:`p-2 text-sm border rounded-md transition-colors ${a.cropTypes.includes(f)?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:f},f))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Qualifications (comma-separated)"}),o.jsx("textarea",{name:"qualifications",value:a.qualifications.join(", "),onChange:f=>l(m=>({...m,qualifications:f.target.value.split(",").map(_=>_.trim()).filter(_=>_)})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ph.D. in Agriculture, M.Sc. Plant Pathology, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Languages (comma-separated)"}),o.jsx("textarea",{name:"languages",value:a.languages.join(", "),onChange:f=>l(m=>({...m,languages:f.target.value.split(",").map(_=>_.trim()).filter(_=>_)})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Hindi, English, Regional languages, etc."})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Availability"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Available Days"}),o.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2",children:p.map(f=>{var m;return o.jsx("button",{type:"button",onClick:()=>y("availability.days",f),className:`p-2 text-xs border rounded-md transition-colors ${(m=a.availability.days)!=null&&m.includes(f)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:f.slice(0,3)},f)})})]}),o.jsx(Q,{label:"Available Hours",name:"availability.hours",placeholder:"e.g., 9:00 AM - 5:00 PM",value:a.availability.hours,onChange:d})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[o.jsxs(A,{type:"button",variant:"outline",onClick:g,children:[o.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Cancel"]}),o.jsxs(A,{type:"submit",children:[o.jsx(k1,{className:"h-4 w-4 mr-2"}),s?"Update Expert":"Add Expert"]})]})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>{var m,_,S,k;return o.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(Me,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Fe,{className:"text-lg",children:f.name}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(Ms,{className:"h-4 w-4 text-gray-400 mr-1"}),o.jsx("span",{className:"text-sm text-gray-600",children:f.region})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(A,{size:"sm",variant:"outline",onClick:()=>w(f),children:o.jsx(b1,{className:"h-4 w-4"})}),o.jsx(A,{size:"sm",variant:"outline",onClick:()=>x(f.id),children:o.jsx(N1,{className:"h-4 w-4 text-red-500"})})]})]})}),o.jsx(z,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wc,{className:"h-4 w-4 text-gray-400 mr-2"}),o.jsxs("span",{className:"text-sm",children:[f.experience," years experience"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vc,{className:"h-4 w-4 text-yellow-400 mr-2"}),o.jsxs("span",{className:"text-sm",children:[f.rating,"/5 rating"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Specializations:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[(m=f.specialization)==null?void 0:m.slice(0,2).map((j,E)=>o.jsx("span",{className:"px-2 py-1 text-xs bg-primary-100 text-primary-800 rounded-full",children:j},E)),((_=f.specialization)==null?void 0:_.length)>2&&o.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",f.specialization.length-2," more"]})]})]}),o.jsxs("div",{className:"pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Fs,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:(S=f.contactInfo)==null?void 0:S.phone})]}),((k=f.contactInfo)==null?void 0:k.email)&&o.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"truncate",children:f.contactInfo.email})]})]})]})})]},f.id)})}),e.length===0&&o.jsx(U,{children:o.jsxs(z,{className:"text-center py-12",children:[o.jsx(Cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No experts added yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Start by adding agricultural experts to help farmers"}),o.jsxs(A,{onClick:()=>n(!0),children:[o.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Add First Expert"]})]})})]})},D1=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(""),[s,i]=b.useState("all"),[a,l]=b.useState("all"),[c,u]=b.useState(null),[h,p]=b.useState(!1),[d,y]=b.useState(""),[v,w]=b.useState(!1);b.useEffect(()=>{const j=async()=>{try{const{data:O,error:R}=await $.from("uploads").select("*").order("created_at",{ascending:!1});if(R)throw R;t(O||[])}catch(O){console.error("Error fetching inquiries:",O)}};j();const E=$.channel("uploads_inquiry_changes").on("postgres_changes",{event:"*",schema:"public",table:"uploads"},j).subscribe();return()=>{E.unsubscribe()}},[]);const x=e.filter(j=>{const E=j.subject.toLowerCase().includes(r.toLowerCase())||j.description.toLowerCase().includes(r.toLowerCase())||j.farmerName.toLowerCase().includes(r.toLowerCase()),O=s==="all"||j.status===s,R=a==="all"||j.urgency===a;return E&&O&&R}),g=async()=>{if(!d.trim()){B.error("Please enter a response");return}w(!0);try{await updateDoc(doc(db,"inquiries",c.id),{adminResponse:d.trim(),status:"resolved",respondedAt:Timestamp.now(),respondedBy:"admin",lastUpdated:Timestamp.now()}),B.success("Response sent successfully!"),p(!1),u(null),y("")}catch(j){console.error("Error sending response:",j),B.error("Failed to send response")}finally{w(!1)}},f=async j=>{try{await updateDoc(doc(db,"inquiries",j),{status:"in_progress",lastUpdated:Timestamp.now()}),B.success("Inquiry marked as in progress")}catch(E){console.error("Error updating status:",E),B.error("Failed to update status")}},m=j=>{switch(j){case"pending":return o.jsx(Et,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return o.jsx(Bc,{className:"h-4 w-4 text-blue-500"});case"resolved":return o.jsx(vt,{className:"h-4 w-4 text-green-500"});default:return o.jsx(Et,{className:"h-4 w-4 text-gray-500"})}},_=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=j=>{switch(j){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=j=>j?j.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Material Requests"}),o.jsx("p",{className:"text-gray-600",children:"Respond to farmer material requests and provide expert recommendations"})]})}),o.jsx(U,{children:o.jsx(z,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Q,{placeholder:"Search inquiries...",value:r,onChange:j=>n(j.target.value),className:"pl-10"})]}),o.jsxs("select",{value:s,onChange:j=>i(j.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"resolved",children:"Resolved"})]}),o.jsxs("select",{value:a,onChange:j=>l(j.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Urgency"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(zs,{className:"h-4 w-4 mr-2"}),o.jsxs("span",{children:[x.length," inquiries"]})]})]})})}),o.jsx("div",{className:"space-y-4",children:x.map(j=>o.jsx(U,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(z,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.subject}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(j.status)}`,children:j.status.replace("_"," ").toUpperCase()}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(j.urgency)}`,children:j.urgency.toUpperCase()})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cr,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:j.farmerName})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Al,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:j.category})]}),j.cropType&&o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{children:[" ",j.cropType]})}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Pa,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:k(j.createdAt)})]})]})]}),o.jsx("div",{className:"flex items-center",children:m(j.status)})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Farmer's Question:"}),o.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:j.description})]}),j.adminResponse&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Response:"}),o.jsxs("div",{className:"bg-primary-50 border-l-4 border-primary-500 p-4 rounded-r-lg",children:[o.jsx("p",{className:"text-gray-800",children:j.adminResponse}),j.respondedAt&&o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Responded on: ",k(j.respondedAt)]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-3 border-t",children:[j.status==="pending"&&o.jsx(A,{size:"sm",variant:"outline",onClick:()=>f(j.id),children:"Mark In Progress"}),j.status!=="resolved"&&o.jsxs(A,{size:"sm",onClick:()=>{u(j),y(j.adminResponse||""),p(!0)},children:[o.jsx(S1,{className:"h-4 w-4 mr-2"}),j.adminResponse?"Update Response":"Respond"]})]})]})]})},j.id))}),x.length===0&&o.jsx(U,{children:o.jsxs(z,{className:"text-center py-12",children:[o.jsx(Pl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No inquiries found"}),o.jsx("p",{className:"text-gray-600",children:r||s!=="all"||a!=="all"?"Try adjusting your search or filter criteria":"No farmer inquiries yet"})]})}),h&&c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Respond to: ",c.subject]}),o.jsx("button",{onClick:()=>{p(!1),u(null),y("")},className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ir,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Cr,{className:"h-4 w-4 mr-1 text-gray-500"}),o.jsx("span",{className:"font-medium",children:c.farmerName})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Al,{className:"h-4 w-4 mr-1 text-gray-500"}),o.jsx("span",{children:c.category})]}),c.cropType&&o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{children:[" ",c.cropType]})})]}),o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Farmer's Question:"}),o.jsx("p",{className:"text-gray-700",children:c.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Your Expert Response"}),o.jsx("textarea",{value:d,onChange:j=>y(j.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:`Provide detailed expert advice including:\r
- Diagnosis of the problem\r
- Recommended solutions\r
- Specific products or treatments\r
- Application instructions\r
- Preventive measures\r
- Follow-up recommendations`})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Response Templates:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[o.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>y(d+`

 Diagnosis: Based on your description, this appears to be [condition]. 

 Treatment: I recommend using [specific treatment] at [dosage]. 

 Precautions: [safety measures]. 

 Follow-up: Monitor for [timeframe] and contact if symptoms persist.`),children:"Disease Template"}),o.jsx(A,{type:"button",variant:"outline",size:"sm",onClick:()=>y(d+`

 Recommendation: For your crop type, I suggest [specific fertilizer/pesticide]. 

 Application: Apply [amount] per [area] during [timing]. 

 Safety: Use protective equipment and follow label instructions. 

 Expected Results: You should see improvement within [timeframe].`),children:"Treatment Template"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[o.jsx(A,{type:"button",variant:"outline",onClick:()=>{p(!1),u(null),y("")},children:"Cancel"}),o.jsxs(A,{onClick:g,loading:v,disabled:!d.trim(),children:[o.jsx(bm,{className:"h-4 w-4 mr-2"}),"Send Response"]})]})]})]})})]})},Bd=()=>{const[e,t]=b.useState("overview"),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,l]=b.useState({totalUsers:0,totalUploads:0,pendingReviews:0,totalSchemes:0}),[c,u]=b.useState(""),[h,p]=b.useState("all"),[d,y]=b.useState(null),[v,w]=b.useState(!1),[x,g]=b.useState("");b.useEffect(()=>{const j=async()=>{try{const{data:R,error:X}=await $.from("uploads").select("*").order("created_at",{ascending:!1});if(X)throw X;n(R||[]);const{data:Ye,error:Ee}=await $.from("users").select("*").order("created_at",{ascending:!1});if(Ee)throw Ee;i(Ye||[]);const[{count:Xe},{count:hr},{count:It},{count:In}]=await Promise.all([$.from("users").select("*",{count:"exact",head:!0}),$.from("uploads").select("*",{count:"exact",head:!0}),$.from("uploads").select("*",{count:"exact",head:!0}).eq("status","pending"),$.from("schemes").select("*",{count:"exact",head:!0})]);l({totalUsers:Xe||0,totalUploads:hr||0,pendingReviews:It||0,totalSchemes:In||0})}catch(R){console.error("Error fetching data:",R)}};j();const E=$.channel("uploads_admin_changes").on("postgres_changes",{event:"*",schema:"public",table:"uploads"},j).subscribe(),O=$.channel("users_admin_changes").on("postgres_changes",{event:"*",schema:"public",table:"users"},j).subscribe();return()=>{E.unsubscribe(),O.unsubscribe()}},[]);const f=async(j,E,O="")=>{try{const{error:R}=await $.from("uploads").update({status:E,admin_feedback:O,reviewed_at:new Date().toISOString(),reviewed_by:"admin"}).eq("id",j);if(R)throw R;B.success(`Upload ${E} successfully!`),w(!1),y(null),g("")}catch(R){console.error("Error reviewing upload:",R),B.error("Failed to review upload")}},m=r.filter(j=>{const E=j.description.toLowerCase().includes(c.toLowerCase())||j.crop_type.toLowerCase().includes(c.toLowerCase()),O=h==="all"||j.status===h;return E&&O}),_=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",S=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"reviewed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=[{id:"overview",name:"Overview",icon:Sm},{id:"uploads",name:"Uploads",icon:Ps},{id:"users",name:"Users",icon:at},{id:"experts",name:"Experts",icon:at},{id:"inquiries",name:"Material Requests",icon:Ts},{id:"content",name:"Content",icon:Rl}];return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),o.jsx("p",{className:"text-primary-100 mt-1",children:"Manage users, review uploads, and oversee platform content"})]}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"-mb-px flex space-x-8",children:k.map(j=>{const E=j.icon;return o.jsxs("button",{onClick:()=>t(j.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===j.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx(E,{className:"h-4 w-4"}),o.jsx("span",{children:j.name})]},j.id)})})}),e==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg",children:o.jsx(at,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalUsers})]})]})}),o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg",children:o.jsx(Ps,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Uploads"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalUploads})]})]})}),o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-lg",children:o.jsx(Pa,{className:"h-6 w-6 text-yellow-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reviews"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.pendingReviews})]})]})}),o.jsx(U,{children:o.jsxs(z,{className:"flex items-center p-6",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg",children:o.jsx(sr,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Schemes"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalSchemes})]})]})})]}),o.jsxs(U,{children:[o.jsx(Me,{children:o.jsx(Fe,{children:"Recent Uploads Requiring Review"})}),o.jsx(z,{children:o.jsx("div",{className:"space-y-4",children:r.filter(j=>j.status==="pending").slice(0,5).map(j=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:j.imageUrl,alt:j.description,className:"w-12 h-12 object-cover rounded-lg"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:j.description}),o.jsxs("p",{className:"text-sm text-gray-600",children:[j.cropType,"  ",_(j.createdAt)]})]})]}),o.jsx(A,{size:"sm",onClick:()=>{y(j),w(!0)},children:"Review"})]},j.id))})})]})]}),e==="uploads"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(U,{children:o.jsx(z,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Q,{placeholder:"Search uploads...",value:c,onChange:j=>u(j.target.value),className:"pl-10"})]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zs,{className:"h-4 w-4 text-gray-400"}),o.jsxs("select",{value:h,onChange:j=>p(j.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"reviewed",children:"Reviewed"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})})}),o.jsxs(U,{children:[o.jsx(Me,{children:o.jsxs(Fe,{children:["All Uploads (",m.length,")"]})}),o.jsx(z,{children:o.jsx("div",{className:"space-y-4",children:m.map(j=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:j.imageUrl,alt:j.description,className:"w-16 h-16 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:j.description}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Crop: ",j.cropType,"  Location: ",j.location||"N/A"]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",_(j.createdAt)]}),j.adminFeedback&&o.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Feedback: ",j.adminFeedback]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(j.status)}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),j.status==="pending"&&o.jsx(A,{size:"sm",onClick:()=>{y(j),w(!0)},children:"Review"})]})]},j.id))})})]})]}),e==="users"&&o.jsxs(U,{children:[o.jsx(Me,{children:o.jsxs(Fe,{children:["All Users (",s.length,")"]})}),o.jsx(z,{children:o.jsx("div",{className:"space-y-4",children:s.map(j=>{var E;return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:j.name}),o.jsx("p",{className:"text-sm text-gray-600",children:j.email}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Role: ",j.role,"  Joined: ",_(j.createdAt)]}),j.farmDetails&&o.jsxs("p",{className:"text-xs text-gray-500",children:["Farm: ",j.farmDetails.location,"  Crops: ",(E=j.farmDetails.cropType)==null?void 0:E.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"Active":"Inactive"}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:j.role})]})]},j.id)})})})]}),e==="experts"&&o.jsx(L1,{}),e==="inquiries"&&o.jsx(D1,{}),e==="content"&&o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx($1,{})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:o.jsxs(z,{className:"flex flex-col items-center p-6 text-center",children:[o.jsx(sr,{className:"h-12 w-12 text-primary-600 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Manage Schemes"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add, edit, or remove government schemes"}),o.jsx(A,{className:"w-full",children:"Manage Schemes"})]})}),o.jsx(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:o.jsxs(z,{className:"flex flex-col items-center p-6 text-center",children:[o.jsx(at,{className:"h-12 w-12 text-secondary-600 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Manage Contacts"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add or update specialist contacts"}),o.jsx(A,{variant:"secondary",className:"w-full",children:"Manage Contacts"})]})}),o.jsx(U,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:o.jsxs(z,{className:"flex flex-col items-center p-6 text-center",children:[o.jsx(Rl,{className:"h-12 w-12 text-accent-600 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Treatments"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manage pesticides and fertilizers"}),o.jsx(A,{variant:"outline",className:"w-full",children:"Manage Treatments"})]})})]})]}),v&&d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Review Upload"}),o.jsx("button",{onClick:()=>{w(!1),y(null),g("")},className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ir,{className:"h-6 w-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{children:o.jsx("img",{src:d.imageUrl,alt:d.description,className:"w-full h-64 object-cover rounded-lg"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Upload Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Description:"})," ",d.description]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Crop Type:"})," ",d.cropType]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Location:"})," ",d.location||"N/A"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Uploaded:"})," ",_(d.createdAt)]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Feedback"}),o.jsx("textarea",{value:x,onChange:j=>g(j.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Provide feedback or advice for the farmer..."})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[o.jsxs(A,{variant:"outline",onClick:()=>f(d.id,"rejected",x),className:"flex items-center space-x-1",children:[o.jsx(Ir,{className:"h-4 w-4"}),o.jsx("span",{children:"Reject"})]}),o.jsxs(A,{onClick:()=>f(d.id,"reviewed",x),className:"flex items-center space-x-1",children:[o.jsx(x1,{className:"h-4 w-4"}),o.jsx("span",{children:"Approve"})]})]})]})]})})]})},U1=()=>{const{userProfile:e}=xt(),[t,r]=b.useState([]),[n,s]=b.useState(""),[i,a]=b.useState("all"),[l,c]=b.useState(!1),[u,h]=b.useState(null),[p,d]=b.useState(!1),y=["Subsidies","Loans","Insurance","Technology","Training","Marketing","Other"];b.useEffect(()=>{const x=async()=>{try{const{data:f,error:m}=await $.from("schemes").select("*").order("created_at",{ascending:!1});if(m)throw m;r(f||[])}catch(f){console.error("Error fetching schemes:",f)}};x();const g=$.channel("schemes_changes").on("postgres_changes",{event:"*",schema:"public",table:"schemes"},x).subscribe();return()=>{g.unsubscribe()}},[]);const v=t.filter(x=>{const g=x.title.toLowerCase().includes(n.toLowerCase())||x.description.toLowerCase().includes(n.toLowerCase()),f=i==="all"||x.category===i;return g&&f}),w=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Government Schemes"}),o.jsx("p",{className:"text-primary-100 mt-1",children:"Explore available schemes and subsidies for farmers"})]}),o.jsx(sr,{className:"h-16 w-16 text-primary-200"})]})}),o.jsx(U,{children:o.jsx(z,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Q,{placeholder:"Search schemes...",value:n,onChange:x=>s(x.target.value),className:"pl-10"})]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zs,{className:"h-4 w-4 text-gray-400"}),o.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Categories"}),y.map(x=>o.jsx("option",{value:x,children:x},x))]})]}),(e==null?void 0:e.role)==="admin"&&o.jsxs(A,{onClick:()=>c(!0),children:[o.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Add Scheme"]})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(x=>o.jsxs(U,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[o.jsx(Me,{children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"text-lg",children:x.title}),o.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-primary-100 text-primary-800 rounded-full mt-2",children:x.category})]})})}),o.jsxs(z,{children:[o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:x.description}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(Pa,{className:"h-4 w-4 mr-2"}),o.jsxs("span",{children:["Added: ",w(x.created_at)]})]}),x.benefits&&x.benefits.length>0&&o.jsxs("div",{className:"flex items-start text-sm text-gray-500",children:[o.jsx(vt,{className:"h-4 w-4 mr-2 mt-0.5 text-green-500"}),o.jsx("span",{children:x.benefits[0]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(A,{size:"sm",onClick:()=>{h(x),d(!0)},className:"flex-1",children:"View Details"}),x.governmentLink&&o.jsx(A,{size:"sm",variant:"outline",onClick:()=>window.open(x.governmentLink,"_blank"),children:o.jsx(_m,{className:"h-4 w-4"})})]})]})]},x.id))}),v.length===0&&o.jsx(U,{children:o.jsxs(z,{className:"text-center py-12",children:[o.jsx(sr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No schemes found"}),o.jsx("p",{className:"text-gray-600",children:n||i!=="all"?"Try adjusting your search or filter criteria":"No schemes are currently available"})]})}),p&&u&&o.jsx(z1,{scheme:u,onClose:()=>{d(!1),h(null)}})]})},z1=({scheme:e,onClose:t})=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.title}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-3 py-1 text-sm font-medium bg-primary-100 text-primary-800 rounded-full mb-4",children:e.category}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),e.eligibility&&e.eligibility.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Eligibility Criteria"}),o.jsx("ul",{className:"space-y-2",children:e.eligibility.map((r,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx(vt,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),e.benefits&&e.benefits.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Benefits"}),o.jsx("ul",{className:"space-y-2",children:e.benefits.map((r,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx(vt,{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),e.documentsRequired&&e.documentsRequired.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Required Documents"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.documentsRequired.map((r,n)=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(sr,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"font-medium text-gray-900",children:r.name}),r.mandatory&&o.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-800 rounded",children:"Required"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:r.description})]},n))})]}),e.applicationProcess&&e.applicationProcess.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Application Process"}),o.jsx("ol",{className:"space-y-3",children:e.applicationProcess.map((r,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-primary-500 text-white text-sm font-medium rounded-full mr-3 mt-0.5 flex-shrink-0",children:n+1}),o.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),e.contactInfo&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[e.contactInfo.phone&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fs,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-gray-700",children:e.contactInfo.phone})]}),e.contactInfo.email&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(An,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-gray-700",children:e.contactInfo.email})]}),e.contactInfo.office&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ms,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-gray-700",children:e.contactInfo.office})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[o.jsx(A,{variant:"outline",onClick:t,children:"Close"}),e.governmentLink&&o.jsxs(A,{onClick:()=>window.open(e.governmentLink,"_blank"),children:[o.jsx(_m,{className:"h-4 w-4 mr-2"}),"Apply Online"]})]})]})]})}),M1=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(""),[s,i]=b.useState("all"),[a,l]=b.useState("all"),c=["North","South","East","West","Central"],u=["Crop Diseases","Soil Management","Pest Control","Irrigation","Organic Farming","Livestock","Horticulture","Agronomy"];b.useEffect(()=>{const d=async()=>{try{const{data:v,error:w}=await $.from("contacts").select("*").order("name",{ascending:!0});if(w)throw w;t(v||[])}catch(v){console.error("Error fetching contacts:",v)}};d();const y=$.channel("contacts_changes").on("postgres_changes",{event:"*",schema:"public",table:"contacts"},d).subscribe();return()=>{y.unsubscribe()}},[]);const h=e.filter(d=>{const y=d.name.toLowerCase().includes(r.toLowerCase())||d.specialization.some(x=>x.toLowerCase().includes(r.toLowerCase())),v=s==="all"||d.region===s,w=a==="all"||d.specialization.includes(a);return y&&v&&w}),p=d=>Array.from({length:5},(y,v)=>o.jsx(Vc,{className:`h-4 w-4 ${v<Math.floor(d||0)?"text-yellow-400 fill-current":"text-gray-300"}`},v));return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Agricultural Specialists"}),o.jsx("p",{className:"text-primary-100 mt-1",children:"Connect with verified experts for agricultural guidance"})]}),o.jsx(at,{className:"h-16 w-16 text-primary-200"})]})}),o.jsx(U,{children:o.jsx(z,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Q,{placeholder:"Search specialists...",value:r,onChange:d=>n(d.target.value),className:"pl-10"})]}),o.jsxs("select",{value:s,onChange:d=>i(d.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Regions"}),c.map(d=>o.jsx("option",{value:d,children:d},d))]}),o.jsxs("select",{value:a,onChange:d=>l(d.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Specializations"}),u.map(d=>o.jsx("option",{value:d,children:d},d))]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(zs,{className:"h-4 w-4 mr-2"}),o.jsxs("span",{children:[h.length," specialists found"]})]})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(d=>{var y;return o.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(Me,{children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs(Fe,{className:"text-lg flex items-center",children:[d.name,d.isVerified&&o.jsx(vt,{className:"h-5 w-5 text-green-500 ml-2"})]}),o.jsxs("div",{className:"flex items-center mt-2",children:[p(d.rating),o.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",((y=d.rating)==null?void 0:y.toFixed(1))||"New",")"]})]})]})})}),o.jsx(z,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Ms,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsxs("span",{children:[d.region," Region"]})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Wc,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsxs("span",{children:[d.experience," years experience"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Specializations:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.specialization.slice(0,3).map((v,w)=>o.jsx("span",{className:"px-2 py-1 text-xs bg-primary-100 text-primary-800 rounded-full",children:v},w)),d.specialization.length>3&&o.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",d.specialization.length-3," more"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Crop Types:"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[d.cropTypes.slice(0,3).join(", "),d.cropTypes.length>3&&` +${d.cropTypes.length-3} more`]})]}),d.availability&&o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Et,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("span",{children:d.availability.hours})]}),o.jsxs("div",{className:"pt-3 border-t space-y-2",children:[d.contactInfo.phone&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Fs,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("span",{children:d.contactInfo.phone})]}),o.jsx(A,{size:"sm",variant:"outline",onClick:()=>window.open(`tel:${d.contactInfo.phone}`),children:"Call"})]}),d.contactInfo.email&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(An,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("span",{className:"truncate",children:d.contactInfo.email})]}),o.jsx(A,{size:"sm",variant:"outline",onClick:()=>window.open(`mailto:${d.contactInfo.email}`),children:"Email"})]})]}),d.qualifications&&d.qualifications.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Qualifications:"}),o.jsx("p",{className:"text-xs text-gray-600",children:d.qualifications.join(", ")})]}),d.languages&&d.languages.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Languages:"}),o.jsx("p",{className:"text-xs text-gray-600",children:d.languages.join(", ")})]})]})})]},d.id)})}),h.length===0&&o.jsx(U,{children:o.jsxs(z,{className:"text-center py-12",children:[o.jsx(at,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No specialists found"}),o.jsx("p",{className:"text-gray-600",children:r||s!=="all"||a!=="all"?"Try adjusting your search or filter criteria":"No specialists are currently available"})]})})]})},F1=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(""),[s,i]=b.useState("all"),[a,l]=b.useState("all"),c=["North","South","East","West","Central"],u=["Crop Diseases","Soil Management","Pest Control","Irrigation","Organic Farming","Livestock","Horticulture","Agronomy"];b.useEffect(()=>{const d=async()=>{try{const{data:v,error:w}=await $.from("pesticides").select("*").order("name",{ascending:!0});if(w)throw w;t(v||[])}catch(v){console.error("Error fetching treatments:",v)}};d();const y=$.channel("pesticides_changes").on("postgres_changes",{event:"*",schema:"public",table:"pesticides"},d).subscribe();return()=>{y.unsubscribe()}},[]);const h=contacts.filter(d=>{const y=d.name.toLowerCase().includes(r.toLowerCase())||d.specialization.some(x=>x.toLowerCase().includes(r.toLowerCase())),v=regionFilter==="all"||d.region===regionFilter,w=specializationFilter==="all"||d.specialization.includes(specializationFilter);return y&&v&&w}),p=d=>Array.from({length:5},(y,v)=>o.jsx(Vc,{className:`h-4 w-4 ${v<Math.floor(d||0)?"text-yellow-400 fill-current":"text-gray-300"}`},v));return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Treatments & Fertilizers"}),o.jsx("p",{className:"text-primary-100 mt-1",children:"Find the right treatments for your crops"})]}),o.jsx(at,{className:"h-16 w-16 text-primary-200"})]})}),o.jsx(U,{children:o.jsx(z,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(Q,{placeholder:"Search specialists...",value:r,onChange:d=>n(d.target.value),className:"pl-10"})]}),o.jsxs("select",{value:regionFilter,onChange:d=>setRegionFilter(d.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Regions"}),c.map(d=>o.jsx("option",{value:d,children:d},d))]}),o.jsxs("select",{value:specializationFilter,onChange:d=>setSpecializationFilter(d.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[o.jsx("option",{value:"all",children:"All Specializations"}),u.map(d=>o.jsx("option",{value:d,children:d},d))]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(zs,{className:"h-4 w-4 mr-2"}),o.jsxs("span",{children:[h.length," specialists found"]})]})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(d=>{var y;return o.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[o.jsx(Me,{children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs(Fe,{className:"text-lg flex items-center",children:[d.name,d.isVerified&&o.jsx(vt,{className:"h-5 w-5 text-green-500 ml-2"})]}),o.jsxs("div",{className:"flex items-center mt-2",children:[p(d.rating),o.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",((y=d.rating)==null?void 0:y.toFixed(1))||"New",")"]})]})]})})}),o.jsx(z,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Ms,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsxs("span",{children:[d.region," Region"]})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Wc,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsxs("span",{children:[d.experience," years experience"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Specializations:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.specialization.slice(0,3).map((v,w)=>o.jsx("span",{className:"px-2 py-1 text-xs bg-primary-100 text-primary-800 rounded-full",children:v},w)),d.specialization.length>3&&o.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",d.specialization.length-3," more"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Crop Types:"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[d.cropTypes.slice(0,3).join(", "),d.cropTypes.length>3&&` +${d.cropTypes.length-3} more`]})]}),d.availability&&o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Et,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("span",{children:d.availability.hours})]}),o.jsxs("div",{className:"pt-3 border-t space-y-2",children:[d.contactInfo.phone&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Fs,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("span",{children:d.contactInfo.phone})]}),o.jsx(A,{size:"sm",variant:"outline",onClick:()=>window.open(`tel:${d.contactInfo.phone}`),children:"Call"})]}),d.contactInfo.email&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(An,{className:"h-4 w-4 mr-2 text-gray-400"}),o.jsx("span",{className:"truncate",children:d.contactInfo.email})]}),o.jsx(A,{size:"sm",variant:"outline",onClick:()=>window.open(`mailto:${d.contactInfo.email}`),children:"Email"})]})]}),d.qualifications&&d.qualifications.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Qualifications:"}),o.jsx("p",{className:"text-xs text-gray-600",children:d.qualifications.join(", ")})]}),d.languages&&d.languages.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Languages:"}),o.jsx("p",{className:"text-xs text-gray-600",children:d.languages.join(", ")})]})]})})]},d.id)})}),h.length===0&&o.jsx(U,{children:o.jsxs(z,{className:"text-center py-12",children:[o.jsx(at,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No specialists found"}),o.jsx("p",{className:"text-gray-600",children:r||regionFilter!=="all"||specializationFilter!=="all"?"Try adjusting your search or filter criteria":"No specialists are currently available"})]})})]})},B1=()=>{const{userProfile:e}=xt(),[t,r]=b.useState([]),[n,s]=b.useState(!1),[i,a]=b.useState({subject:"",category:"",cropType:"",description:"",urgency:"medium"}),l=["Pesticides & Chemicals","Fertilizers & Nutrients","Seeds & Planting","Disease Diagnosis","Pest Control","Soil Management","Irrigation & Water","Harvesting & Storage","Market Information","General Inquiry"],c=["Rice","Wheat","Corn","Sugarcane","Cotton","Soybean","Tomato","Potato","Onion","Cabbage","Carrot","Other"],u=[{value:"low",label:"Low",color:"text-green-600 bg-green-100"},{value:"medium",label:"Medium",color:"text-yellow-600 bg-yellow-100"},{value:"high",label:"High",color:"text-red-600 bg-red-100"}];b.useEffect(()=>{if(!(e!=null&&e.id))return;const x=async()=>{try{const{data:f,error:m}=await $.from("uploads").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;r(f||[])}catch(f){console.error("Error fetching inquiries:",f)}};x();const g=$.channel("support_inquiries").on("postgres_changes",{event:"*",schema:"public",table:"uploads",filter:`user_id=eq.${e.id}`},x).subscribe();return()=>{g.unsubscribe()}},[e==null?void 0:e.id]);const h=x=>{const{name:g,value:f}=x.target;a(m=>({...m,[g]:f}))},p=async x=>{if(x.preventDefault(),!i.subject.trim()||!i.description.trim()){B.error("Please fill in all required fields");return}try{const g={user_id:e.id,description:`${i.subject.trim()} - ${i.description.trim()}`,crop_type:i.cropType||"General",status:"pending",created_at:new Date().toISOString(),image_url:null},{error:f}=await $.from("uploads").insert([g]);if(f)throw f;B.success("Your inquiry has been submitted successfully!"),a({subject:"",category:"",cropType:"",description:"",urgency:"medium"}),s(!1)}catch(g){console.error("Error submitting inquiry:",g),B.error("Failed to submit inquiry. Please try again.")}},d=x=>{switch(x){case"pending":return o.jsx(Et,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return o.jsx(Bc,{className:"h-4 w-4 text-blue-500"});case"resolved":return o.jsx(vt,{className:"h-4 w-4 text-green-500"});default:return o.jsx(Et,{className:"h-4 w-4 text-gray-500"})}},y=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=x=>{const g=u.find(f=>f.value===x);return g?g.color:"text-gray-600 bg-gray-100"},w=x=>x?x.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Agricultural Materials Center"}),o.jsx("p",{className:"text-primary-100 mt-1",children:"Get expert recommendations for pesticides, fertilizers, and agricultural materials"})]}),o.jsx(Pl,{className:"h-16 w-16 text-primary-200"})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Material Requests"}),o.jsx("p",{className:"text-gray-600",children:"Track your material requests and get expert recommendations"})]}),o.jsxs(A,{onClick:()=>s(!0),children:[o.jsx(Ts,{className:"h-4 w-4 mr-2"}),"New Request"]})]}),n&&o.jsxs(U,{children:[o.jsx(Me,{children:o.jsx(Fe,{children:"Submit New Material Request"})}),o.jsx(z,{children:o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Q,{label:"Subject",name:"subject",value:i.subject,onChange:h,placeholder:"Brief description of your inquiry",required:!0}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Category"}),o.jsxs("select",{name:"category",value:i.category,onChange:h,className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),l.map(x=>o.jsx("option",{value:x,children:x},x))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Crop Type (Optional)"}),o.jsxs("select",{name:"cropType",value:i.cropType,onChange:h,className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Select Crop Type"}),c.map(x=>o.jsx("option",{value:x,children:x},x))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Urgency Level"}),o.jsx("select",{name:"urgency",value:i.urgency,onChange:h,className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:u.map(x=>o.jsx("option",{value:x.value,children:x.label},x.value))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Detailed Description"}),o.jsx("textarea",{name:"description",value:i.description,onChange:h,rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Please provide detailed information about your inquiry, including current situation, symptoms, or specific requirements...",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[o.jsx(A,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),o.jsxs(A,{type:"submit",children:[o.jsx(bm,{className:"h-4 w-4 mr-2"}),"Submit Request"]})]})]})})]}),o.jsx("div",{className:"space-y-4",children:t.map(x=>o.jsx(U,{className:"hover:shadow-lg transition-shadow",children:o.jsxs(z,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.subject}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(x.status)}`,children:x.status.replace("_"," ").toUpperCase()}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(x.urgency)}`,children:x.urgency.toUpperCase()})]}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Al,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:x.category})]}),x.cropType&&o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{children:[" ",x.cropType]})}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Pa,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:w(x.createdAt)})]})]})]}),o.jsx("div",{className:"flex items-center",children:d(x.status)})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Question:"}),o.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:x.description})]}),x.adminResponse&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[o.jsx(Cr,{className:"h-4 w-4 mr-2 text-primary-500"}),"Expert Response:"]}),o.jsxs("div",{className:"bg-primary-50 border-l-4 border-primary-500 p-4 rounded-r-lg",children:[o.jsx("p",{className:"text-gray-800",children:x.adminResponse}),x.respondedAt&&o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Responded on: ",w(x.respondedAt)]})]})]}),x.status==="pending"&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsx("p",{className:"text-yellow-800 text-sm",children:" Your material request is pending review. Our experts will respond within 24-48 hours."})})]})]})},x.id))}),t.length===0&&o.jsx(U,{children:o.jsxs(z,{className:"text-center py-12",children:[o.jsx(Pl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No material requests yet"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Submit your first request to get expert recommendations on agricultural materials"}),o.jsxs(A,{onClick:()=>s(!0),children:[o.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Submit Your First Request"]})]})})]})},Vr=({children:e,adminOnly:t=!1})=>{const{currentUser:r,userProfile:n}=xt();return r?t&&(n==null?void 0:n.role)!=="admin"?o.jsx(ks,{to:"/dashboard"}):e:o.jsx(ks,{to:"/login"})},Wd=({children:e})=>{const{currentUser:t}=xt();return t?o.jsx(ks,{to:"/dashboard"}):e};function W1(){const{currentUser:e,userProfile:t}=xt();return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(E1,{}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsxs(Vy,{children:[o.jsx(dt,{path:"/login",element:o.jsx(Wd,{children:o.jsx(C1,{})})}),o.jsx(dt,{path:"/register",element:o.jsx(Wd,{children:o.jsx(T1,{})})}),o.jsx(dt,{path:"/dashboard",element:o.jsx(Vr,{children:(t==null?void 0:t.role)==="admin"?o.jsx(Bd,{}):o.jsx(O1,{})})}),o.jsx(dt,{path:"/admin",element:o.jsx(Vr,{adminOnly:!0,children:o.jsx(Bd,{})})}),o.jsx(dt,{path:"/schemes",element:o.jsx(Vr,{children:o.jsx(U1,{})})}),o.jsx(dt,{path:"/contacts",element:o.jsx(Vr,{children:o.jsx(M1,{})})}),o.jsx(dt,{path:"/treatments",element:o.jsx(Vr,{children:o.jsx(F1,{})})}),o.jsx(dt,{path:"/support",element:o.jsx(Vr,{children:o.jsx(B1,{})})}),o.jsx(dt,{path:"/",element:e?o.jsx(ks,{to:"/dashboard"}):o.jsx(ks,{to:"/login"})})]})}),o.jsx(Bv,{position:"top-right"})]})}function V1(){return o.jsx(Yy,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(m1,{children:o.jsx(W1,{})})})}go.createRoot(document.getElementById("root")).render(o.jsx(th.StrictMode,{children:o.jsx(V1,{})}));
//# sourceMappingURL=index-FyX9aPwk.js.map
