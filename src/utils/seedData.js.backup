
import { Timestamp } from 'firebase/firestore';

// Sample schemes data
const sampleSchemes = [
  {
    title: "PM-KISAN Samman Nidhi",
    description: "Direct income support scheme for farmers providing ‚Çπ6000 per year in three equal installments.",
    category: "Subsidies",
    eligibility: [
      "Small and marginal farmers with cultivable land up to 2 hectares",
      "Valid Aadhaar card required",
      "Bank account linked with Aadhaar"
    ],
    benefits: [
      "‚Çπ6000 per year direct cash transfer",
      "Payment in three installments of ‚Çπ2000 each",
      "No paperwork required after registration"
    ],
    documentsRequired: [
      { name: "Aadhaar Card", description: "Valid Aadhaar card of the farmer", mandatory: true },
      { name: "Bank Account Details", description: "Bank passbook or cancelled cheque", mandatory: true },
      { name: "Land Records", description: "Khata/Khatauni/Land ownership documents", mandatory: true }
    ],
    applicationProcess: [
      "Visit PM-KISAN portal or nearest CSC center",
      "Fill the registration form with required details",
      "Upload necessary documents",
      "Submit application and note down reference number",
      "Track application status online"
    ],
    governmentLink: "https://pmkisan.gov.in/",
    contactInfo: {
      phone: "155261",
      email: "pmkisan-ict@gov.in",
      office: "Ministry of Agriculture & Farmers Welfare"
    },
    isActive: true,
    createdAt: Timestamp.now(),
    createdBy: "admin",
    lastUpdated: Timestamp.now()
  },
  {
    title: "Pradhan Mantri Fasal Bima Yojana",
    description: "Crop insurance scheme providing financial support to farmers in case of crop loss due to natural calamities.",
    category: "Insurance",
    eligibility: [
      "All farmers growing notified crops in notified areas",
      "Sharecroppers and tenant farmers eligible",
      "Both loanee and non-loanee farmers can apply"
    ],
    benefits: [
      "Low premium rates - 2% for Kharif, 1.5% for Rabi crops",
      "Coverage for pre-sowing to post-harvest losses",
      "Quick settlement of claims",
      "Use of technology for crop cutting experiments"
    ],
    documentsRequired: [
      { name: "Aadhaar Card", description: "Identity proof", mandatory: true },
      { name: "Bank Account Details", description: "For premium deduction and claim settlement", mandatory: true },
      { name: "Land Records", description: "Proof of land ownership or tenancy", mandatory: true },
      { name: "Sowing Certificate", description: "From village revenue officer", mandatory: false }
    ],
    applicationProcess: [
      "Visit nearest bank branch or insurance company office",
      "Fill application form with crop and area details",
      "Pay premium amount",
      "Receive policy document",
      "Report crop loss within 72 hours if any"
    ],
    governmentLink: "https://pmfby.gov.in/",
    contactInfo: {
      phone: "14447",
      email: "support@pmfby.gov.in",
      office: "Agriculture Insurance Company of India"
    },
    isActive: true,
    createdAt: Timestamp.now(),
    createdBy: "admin",
    lastUpdated: Timestamp.now()
  },
  {
    title: "Kisan Credit Card (KCC)",
    description: "Credit facility for farmers to meet their agricultural and allied activities requirements.",
    category: "Loans",
    eligibility: [
      "All farmers - individual/joint borrowers who are owner cultivators",
      "Tenant farmers, oral lessees & sharecroppers",
      "Self Help Group members or Joint Liability Group members"
    ],
    benefits: [
      "Flexible credit limit based on farming needs",
      "Lower interest rates for timely repayment",
      "Insurance coverage for crops and borrower",
      "ATM cum Debit card facility"
    ],
    documentsRequired: [
      { name: "Application Form", description: "Duly filled KCC application form", mandatory: true },
      { name: "Identity Proof", description: "Aadhaar card, Voter ID, or Passport", mandatory: true },
      { name: "Address Proof", description: "Utility bills or bank statements", mandatory: true },
      { name: "Land Documents", description: "Land ownership or tenancy proof", mandatory: true }
    ],
    applicationProcess: [
      "Visit nearest bank branch or apply online",
      "Submit application with required documents",
      "Bank verification and field inspection",
      "Credit limit sanctioning and card issuance",
      "Start using the credit facility"
    ],
    governmentLink: "https://www.nabard.org/content1.aspx?id=570",
    contactInfo: {
      phone: "1800-180-1551",
      email: "kcc@nabard.org",
      office: "NABARD - National Bank for Agriculture and Rural Development"
    },
    isActive: true,
    createdAt: Timestamp.now(),
    createdBy: "admin",
    lastUpdated: Timestamp.now()
  }
];

// Sample contacts data
const sampleContacts = [
  {
    name: "Dr. Rajesh Kumar",
    specialization: ["Crop Diseases", "Pest Control", "Organic Farming"],
    cropTypes: ["Rice", "Wheat", "Sugarcane", "Cotton"],
    region: "North",
    contactInfo: {
      phone: "+91-9876543210",
      email: "dr.rajesh@agri.gov.in",
      address: "Agricultural Research Station, Punjab"
    },
    experience: 15,
    qualifications: ["Ph.D. in Plant Pathology", "M.Sc. Agriculture"],
    languages: ["Hindi", "English", "Punjabi"],
    availability: {
      days: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      hours: "9:00 AM - 5:00 PM"
    },
    rating: 4.8,
    isVerified: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Dr. Priya Sharma",
    specialization: ["Soil Management", "Irrigation", "Horticulture"],
    cropTypes: ["Tomato", "Potato", "Onion", "Cabbage", "Carrot"],
    region: "West",
    contactInfo: {
      phone: "+91-9876543211",
      email: "priya.sharma@agri.edu",
      address: "Horticultural College, Maharashtra"
    },
    experience: 12,
    qualifications: ["Ph.D. in Soil Science", "M.Sc. Horticulture"],
    languages: ["Hindi", "English", "Marathi"],
    availability: {
      days: ["Monday", "Wednesday", "Friday", "Saturday"],
      hours: "10:00 AM - 4:00 PM"
    },
    rating: 4.6,
    isVerified: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Dr. Amit Singh",
    specialization: ["Entomology", "Pest Control", "IPM"],
    cropTypes: ["Cotton", "Rice", "Soybean", "Corn"],
    region: "Central",
    contactInfo: {
      phone: "+91-9876543212",
      email: "amit.singh@icar.gov.in",
      address: "ICAR Research Institute, Madhya Pradesh"
    },
    experience: 18,
    qualifications: ["Ph.D. in Entomology", "IPM Certification", "M.Sc. Agriculture"],
    languages: ["Hindi", "English"],
    availability: {
      days: ["Monday", "Tuesday", "Thursday", "Friday"],
      hours: "8:00 AM - 4:00 PM"
    },
    rating: 4.9,
    isVerified: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Dr. Sunita Patel",
    specialization: ["Organic Farming", "Sustainable Agriculture", "Crop Rotation"],
    cropTypes: ["Wheat", "Millet", "Pulses", "Vegetables"],
    region: "West",
    contactInfo: {
      phone: "+91-9876543213",
      email: "sunita.organic@gmail.com",
      address: "Organic Farming Institute, Gujarat"
    },
    experience: 14,
    qualifications: ["Ph.D. in Sustainable Agriculture", "Organic Certification"],
    languages: ["Hindi", "English", "Gujarati"],
    availability: {
      days: ["Tuesday", "Wednesday", "Thursday", "Saturday"],
      hours: "9:30 AM - 5:30 PM"
    },
    rating: 4.7,
    isVerified: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Dr. K. Venkatesh",
    specialization: ["Rice Cultivation", "Water Management", "Precision Agriculture"],
    cropTypes: ["Rice", "Sugarcane", "Coconut", "Banana"],
    region: "South",
    contactInfo: {
      phone: "+91-9876543214",
      email: "k.venkatesh@tnau.ac.in",
      address: "Tamil Nadu Agricultural University, Coimbatore"
    },
    experience: 20,
    qualifications: ["Ph.D. in Agronomy", "M.Tech. Agricultural Engineering"],
    languages: ["Tamil", "English", "Hindi", "Telugu"],
    availability: {
      days: ["Monday", "Wednesday", "Friday"],
      hours: "10:00 AM - 6:00 PM"
    },
    rating: 4.8,
    isVerified: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Dr. Meera Das",
    specialization: ["Plant Pathology", "Disease Management", "Seed Technology"],
    cropTypes: ["Potato", "Tomato", "Chili", "Brinjal"],
    region: "East",
    contactInfo: {
      phone: "+91-9876543215",
      email: "meera.das@bckv.edu.in",
      address: "Bidhan Chandra Krishi Viswavidyalaya, West Bengal"
    },
    experience: 16,
    qualifications: ["Ph.D. in Plant Pathology", "Seed Certification"],
    languages: ["Bengali", "Hindi", "English"],
    availability: {
      days: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      hours: "9:00 AM - 5:00 PM"
    },
    rating: 4.5,
    isVerified: true,
    createdAt: Timestamp.now()
  }
];

// Sample treatments data
const sampleTreatments = [
  {
    name: "Chlorpyrifos 20% EC",
    type: "pesticide",
    cropTypes: ["Rice", "Cotton", "Sugarcane", "Wheat"],
    targetPests: ["Stem borer", "Leaf folder", "Brown plant hopper", "Bollworm"],
    activeIngredients: ["Chlorpyrifos 20%"],
    dosage: {
      amount: "2-2.5",
      unit: "ml/liter",
      frequency: "As needed, max 2 applications per season"
    },
    applicationMethod: ["Foliar spray", "Soil application"],
    precautions: [
      "Wear protective clothing during application",
      "Do not spray during flowering period",
      "Maintain 15 days pre-harvest interval",
      "Avoid spraying in windy conditions"
    ],
    priceRange: {
      min: 150,
      max: 200,
      unit: "100ml bottle"
    },
    availability: ["Agricultural stores", "Cooperative societies", "Online platforms"],
    isApproved: true,
    createdAt: Timestamp.now()
  },
  {
    name: "NPK 19:19:19",
    type: "fertilizer",
    cropTypes: ["Rice", "Wheat", "Corn", "Tomato", "Potato"],
    activeIngredients: ["Nitrogen 19%", "Phosphorus 19%", "Potassium 19%"],
    dosage: {
      amount: "25-50",
      unit: "kg/acre",
      frequency: "2-3 times during crop season"
    },
    applicationMethod: ["Soil application", "Fertigation"],
    precautions: [
      "Apply in moist soil conditions",
      "Do not apply during extreme weather",
      "Store in dry place away from moisture"
    ],
    priceRange: {
      min: 800,
      max: 1200,
      unit: "50kg bag"
    },
    availability: ["Fertilizer dealers", "Cooperative societies", "Government outlets"],
    isApproved: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Neem Oil",
    type: "organic",
    cropTypes: ["Tomato", "Cabbage", "Cotton", "Rice", "Wheat"],
    targetPests: ["Aphids", "Whiteflies", "Thrips", "Caterpillars"],
    activeIngredients: ["Azadirachtin 0.03%", "Neem oil 99.97%"],
    dosage: {
      amount: "3-5",
      unit: "ml/liter",
      frequency: "Weekly application during pest season"
    },
    applicationMethod: ["Foliar spray", "Soil drench"],
    precautions: [
      "Apply during evening hours to avoid bee activity",
      "Do not mix with copper-based fungicides",
      "Store in cool, dry place away from sunlight"
    ],
    priceRange: {
      min: 80,
      max: 120,
      unit: "100ml bottle"
    },
    availability: ["Organic stores", "Online platforms", "Agricultural cooperatives"],
    isApproved: true,
    createdAt: Timestamp.now()
  },
  {
    name: "Mancozeb 75% WP",
    type: "fungicide",
    cropTypes: ["Potato", "Tomato", "Grapes", "Rice"],
    targetPests: ["Late blight", "Early blight", "Downy mildew", "Blast"],
    activeIngredients: ["Mancozeb 75%"],
    dosage: {
      amount: "2-2.5",
      unit: "gm/liter",
      frequency: "Every 10-15 days during disease season"
    },
    applicationMethod: ["Foliar spray"],
    precautions: [
      "Wear protective clothing and mask during application",
      "Do not spray during flowering period",
      "Maintain 7 days pre-harvest interval",
      "Avoid drift to water bodies"
    ],
    priceRange: {
      min: 200,
      max: 300,
      unit: "250gm pack"
    },
    availability: ["Agricultural stores", "Pesticide dealers", "Cooperative societies"],
    isApproved: true,
    createdAt: Timestamp.now()
  }
];

// Demo Users Data
const demoUsers = [
  {
    email: 'farmer@farmtech.com',
    password: 'farmer123456',
    userData: {
      name: 'John Farmer',
      phone: '+91-9876543210',
      role: 'farmer',
      farmDetails: {
        location: 'Punjab, India',
        cropType: ['Rice', 'Wheat', 'Cotton'],
        farmSize: 5,
        soilType: 'loamy'
      },
      isActive: true
    }
  },
  {
    email: 'admin@farmtech.com',
    password: 'admin123456',
    userData: {
      name: 'Admin User',
      phone: '+91-9876543211',
      role: 'admin',
      isActive: true
    }
  }
];

// Sample uploads for demo farmer
const sampleUploads = [
  {
    userId: '', // Will be set when creating demo farmer
    imageUrl: 'https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=400',
    description: 'My wheat crop is showing yellow spots on leaves. Need expert advice.',
    cropType: 'Wheat',
    location: 'Punjab, India',
    status: 'reviewed',
    adminFeedback: 'This appears to be wheat rust. Apply fungicide immediately and ensure proper drainage.',
    reviewedBy: 'admin',
    reviewedAt: Timestamp.now(),
    createdAt: Timestamp.fromDate(new Date(Date.now() - 2 * 24 * 60 * 60 * 1000)), // 2 days ago
    metadata: {
      fileSize: 245760,
      fileName: 'wheat_crop.jpg',
      contentType: 'image/jpeg'
    }
  },
  {
    userId: '', // Will be set when creating demo farmer
    imageUrl: 'https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400',
    description: 'Rice plants are not growing properly. Leaves turning brown.',
    cropType: 'Rice',
    location: 'Punjab, India',
    status: 'pending',
    createdAt: Timestamp.fromDate(new Date(Date.now() - 1 * 24 * 60 * 60 * 1000)), // 1 day ago
    metadata: {
      fileSize: 189432,
      fileName: 'rice_crop.jpg',
      contentType: 'image/jpeg'
    }
  }
];

export const seedDatabase = async () => {
  try {
    console.log('Seeding database with sample data...');

    let farmerUserId = null;

    // Create demo users
    for (const demoUser of demoUsers) {
      try {
        const userCredential = await createUserWithEmailAndPassword(auth, demoUser.email, demoUser.password);
        const userId = userCredential.user.uid;

        if (demoUser.userData.role === 'farmer') {
          farmerUserId = userId;
        }

        const userData = {
          id: userId,
          email: demoUser.email,
          ...demoUser.userData,
          createdAt: Timestamp.now(),
          lastLogin: Timestamp.now()
        };

        await setDoc(doc(db, 'users', userId), userData);
        console.log(`‚úÖ Demo ${demoUser.userData.role} user created: ${demoUser.email}`);
      } catch (error) {
        if (error.code === 'auth/email-already-in-use') {
          console.log(`‚ÑπÔ∏è Demo user ${demoUser.email} already exists`);
        } else {
          console.error(`‚ùå Error creating demo user ${demoUser.email}:`, error);
        }
      }
    }

    // Add sample uploads for demo farmer
    if (farmerUserId) {
      for (const upload of sampleUploads) {
        upload.userId = farmerUserId;
        await addDoc(collection(db, 'uploads'), upload);
      }
      console.log('‚úÖ Sample uploads added successfully');
    }

    // Add schemes
    for (const scheme of sampleSchemes) {
      await addDoc(collection(db, 'schemes'), scheme);
    }
    console.log('‚úÖ Schemes added successfully');

    // Add contacts
    for (const contact of sampleContacts) {
      await addDoc(collection(db, 'contacts'), contact);
    }
    console.log('‚úÖ Contacts added successfully');

    // Add treatments
    for (const treatment of sampleTreatments) {
      await addDoc(collection(db, 'treatments'), treatment);
    }
    console.log('‚úÖ Treatments added successfully');

    console.log('üéâ Database seeded successfully with demo data!');
    return true;
  } catch (error) {
    console.error('‚ùå Error seeding database:', error);
    return false;
  }
};